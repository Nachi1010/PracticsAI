var Zr=r=>{throw TypeError(r)};var ur=(r,e,t)=>e.has(r)||Zr("Cannot "+t);var m=(r,e,t)=>(ur(r,e,"read from private field"),t?t.call(r):e.get(r)),N=(r,e,t)=>e.has(r)?Zr("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),C=(r,e,t,s)=>(ur(r,e,"write to private field"),s?s.call(r,t):e.set(r,t),t),J=(r,e,t)=>(ur(r,e,"access private method"),t);var Nt=(r,e,t,s)=>({set _(n){C(r,e,n,t)},get _(){return m(r,e,s)}});import{r as p,j as O,R as Fe,a as Bs,b as ai}from"./vendor-react-Dp1HrnAd.js";import{_ as gt}from"./core-components-SMJaJvgO.js";var le=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function li(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function ci(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(s){var n=Object.getOwnPropertyDescriptor(r,s);Object.defineProperty(t,s,n.get?n:{enumerable:!0,get:function(){return r[s]}})}),t}var qs={exports:{}},zs={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){function e(k,P){var T=k.length;k.push(P);e:for(;0<T;){var D=T-1>>>1,z=k[D];if(0<n(z,P))k[D]=P,k[T]=z,T=D;else break e}}function t(k){return k.length===0?null:k[0]}function s(k){if(k.length===0)return null;var P=k[0],T=k.pop();if(T!==P){k[0]=T;e:for(var D=0,z=k.length,be=z>>>1;D<be;){var fe=2*(D+1)-1,cr=k[fe],Ue=fe+1,Dt=k[Ue];if(0>n(cr,T))Ue<z&&0>n(Dt,cr)?(k[D]=Dt,k[Ue]=T,D=Ue):(k[D]=cr,k[fe]=T,D=fe);else if(Ue<z&&0>n(Dt,T))k[D]=Dt,k[Ue]=T,D=Ue;else break e}}return P}function n(k,P){var T=k.sortIndex-P.sortIndex;return T!==0?T:k.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;r.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();r.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,v=!1,y=!1,g=!1,f=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(k){for(var P=t(c);P!==null;){if(P.callback===null)s(c);else if(P.startTime<=k)s(c),P.sortIndex=P.expirationTime,e(l,P);else break;P=t(c)}}function E(k){if(g=!1,_(k),!y)if(t(l)!==null)y=!0,G(x);else{var P=t(c);P!==null&&oe(E,P.startTime-k)}}function x(k,P){y=!1,g&&(g=!1,b(I),I=-1),v=!0;var T=h;try{for(_(P),d=t(l);d!==null&&(!(d.expirationTime>P)||k&&!re());){var D=d.callback;if(typeof D=="function"){d.callback=null,h=d.priorityLevel;var z=D(d.expirationTime<=P);P=r.unstable_now(),typeof z=="function"?d.callback=z:d===t(l)&&s(l),_(P)}else s(l);d=t(l)}if(d!==null)var be=!0;else{var fe=t(c);fe!==null&&oe(E,fe.startTime-P),be=!1}return be}finally{d=null,h=T,v=!1}}var M=!1,j=null,I=-1,q=5,Z=-1;function re(){return!(r.unstable_now()-Z<q)}function $(){if(j!==null){var k=r.unstable_now();Z=k;var P=!0;try{P=j(!0,k)}finally{P?se():(M=!1,j=null)}}else M=!1}var se;if(typeof w=="function")se=function(){w($)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,K=S.port2;S.port1.onmessage=$,se=function(){K.postMessage(null)}}else se=function(){f($,0)};function G(k){j=k,M||(M=!0,se())}function oe(k,P){I=f(function(){k(r.unstable_now())},P)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(k){k.callback=null},r.unstable_continueExecution=function(){y||v||(y=!0,G(x))},r.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<k?Math.floor(1e3/k):5},r.unstable_getCurrentPriorityLevel=function(){return h},r.unstable_getFirstCallbackNode=function(){return t(l)},r.unstable_next=function(k){switch(h){case 1:case 2:case 3:var P=3;break;default:P=h}var T=h;h=P;try{return k()}finally{h=T}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(k,P){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var T=h;h=k;try{return P()}finally{h=T}},r.unstable_scheduleCallback=function(k,P,T){var D=r.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?D+T:D):T=D,k){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=T+z,k={id:u++,callback:P,priorityLevel:k,startTime:T,expirationTime:z,sortIndex:-1},T>D?(k.sortIndex=T,e(c,k),t(l)===null&&k===t(c)&&(g?(b(I),I=-1):g=!0,oe(E,T-D))):(k.sortIndex=z,e(l,k),y||v||(y=!0,G(x))),k},r.unstable_shouldYield=re,r.unstable_wrapCallback=function(k){var P=h;return function(){var T=h;h=P;try{return k.apply(this,arguments)}finally{h=T}}}})(zs);qs.exports=zs;var ru=qs.exports;function ie(r,e,{checkForDefaultPrevented:t=!0}={}){return function(n){if(r==null||r(n),t===!1||!n.defaultPrevented)return e==null?void 0:e(n)}}function es(r,e){if(typeof r=="function")return r(e);r!=null&&(r.current=e)}function Vs(...r){return e=>{let t=!1;const s=r.map(n=>{const i=es(n,e);return!t&&typeof i=="function"&&(t=!0),i});if(t)return()=>{for(let n=0;n<s.length;n++){const i=s[n];typeof i=="function"?i():es(r[n],null)}}}}function Je(...r){return p.useCallback(Vs(...r),r)}function Ws(r,e=[]){let t=[];function s(i,o){const a=p.createContext(o),l=t.length;t=[...t,o];const c=d=>{var b;const{scope:h,children:v,...y}=d,g=((b=h==null?void 0:h[r])==null?void 0:b[l])||a,f=p.useMemo(()=>y,Object.values(y));return O.jsx(g.Provider,{value:f,children:v})};c.displayName=i+"Provider";function u(d,h){var g;const v=((g=h==null?void 0:h[r])==null?void 0:g[l])||a,y=p.useContext(v);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const n=()=>{const i=t.map(o=>p.createContext(o));return function(a){const l=(a==null?void 0:a[r])||i;return p.useMemo(()=>({[`__scope${r}`]:{...a,[r]:l}}),[a,l])}};return n.scopeName=r,[s,ui(n,...e)]}function ui(...r){const e=r[0];if(r.length===1)return e;const t=()=>{const s=r.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(i){const o=s.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var Kt=p.forwardRef((r,e)=>{const{children:t,...s}=r,n=p.Children.toArray(t),i=n.find(hi);if(i){const o=i.props.children,a=n.map(l=>l===i?p.Children.count(o)>1?p.Children.only(null):p.isValidElement(o)?o.props.children:null:l);return O.jsx(wr,{...s,ref:e,children:p.isValidElement(o)?p.cloneElement(o,void 0,a):null})}return O.jsx(wr,{...s,ref:e,children:t})});Kt.displayName="Slot";var wr=p.forwardRef((r,e)=>{const{children:t,...s}=r;if(p.isValidElement(t)){const n=pi(t),i=fi(s,t.props);return t.type!==p.Fragment&&(i.ref=e?Vs(e,n):n),p.cloneElement(t,i)}return p.Children.count(t)>1?p.Children.only(null):null});wr.displayName="SlotClone";var di=({children:r})=>O.jsx(O.Fragment,{children:r});function hi(r){return p.isValidElement(r)&&r.type===di}function fi(r,e){const t={...e};for(const s in e){const n=r[s],i=e[s];/^on[A-Z]/.test(s)?n&&i?t[s]=(...a)=>{i(...a),n(...a)}:n&&(t[s]=n):s==="style"?t[s]={...n,...i}:s==="className"&&(t[s]=[n,i].filter(Boolean).join(" "))}return{...r,...t}}function pi(r){var s,n;let e=(s=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=(n=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:n.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}function gi(r){const e=r+"CollectionProvider",[t,s]=Ws(e),[n,i]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:y,children:g}=v,f=Fe.useRef(null),b=Fe.useRef(new Map).current;return O.jsx(n,{scope:y,itemMap:b,collectionRef:f,children:g})};o.displayName=e;const a=r+"CollectionSlot",l=Fe.forwardRef((v,y)=>{const{scope:g,children:f}=v,b=i(a,g),w=Je(y,b.collectionRef);return O.jsx(Kt,{ref:w,children:f})});l.displayName=a;const c=r+"CollectionItemSlot",u="data-radix-collection-item",d=Fe.forwardRef((v,y)=>{const{scope:g,children:f,...b}=v,w=Fe.useRef(null),_=Je(y,w),E=i(c,g);return Fe.useEffect(()=>(E.itemMap.set(w,{ref:w,...b}),()=>void E.itemMap.delete(w))),O.jsx(Kt,{[u]:"",ref:_,children:f})});d.displayName=c;function h(v){const y=i(r+"CollectionConsumer",v);return Fe.useCallback(()=>{const f=y.collectionRef.current;if(!f)return[];const b=Array.from(f.querySelectorAll(`[${u}]`));return Array.from(y.itemMap.values()).sort((E,x)=>b.indexOf(E.ref.current)-b.indexOf(x.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:l,ItemSlot:d},h,s]}var vi=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],me=vi.reduce((r,e)=>{const t=p.forwardRef((s,n)=>{const{asChild:i,...o}=s,a=i?Kt:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),O.jsx(a,{...o,ref:n})});return t.displayName=`Primitive.${e}`,{...r,[e]:t}},{});function Hs(r,e){r&&Bs.flushSync(()=>r.dispatchEvent(e))}function xe(r){const e=p.useRef(r);return p.useEffect(()=>{e.current=r}),p.useMemo(()=>(...t)=>{var s;return(s=e.current)==null?void 0:s.call(e,...t)},[])}function yi(r,e=globalThis==null?void 0:globalThis.document){const t=xe(r);p.useEffect(()=>{const s=n=>{n.key==="Escape"&&t(n)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[t,e])}var mi="DismissableLayer",_r="dismissableLayer.update",bi="dismissableLayer.pointerDownOutside",wi="dismissableLayer.focusOutside",ts,Ks=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Gs=p.forwardRef((r,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:s,onPointerDownOutside:n,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=r,c=p.useContext(Ks),[u,d]=p.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=p.useState({}),y=Je(e,j=>d(j)),g=Array.from(c.layers),[f]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(f),w=u?g.indexOf(u):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,E=w>=b,x=ki(j=>{const I=j.target,q=[...c.branches].some(Z=>Z.contains(I));!E||q||(n==null||n(j),o==null||o(j),j.defaultPrevented||a==null||a())},h),M=Ei(j=>{const I=j.target;[...c.branches].some(Z=>Z.contains(I))||(i==null||i(j),o==null||o(j),j.defaultPrevented||a==null||a())},h);return yi(j=>{w===c.layers.size-1&&(s==null||s(j),!j.defaultPrevented&&a&&(j.preventDefault(),a()))},h),p.useEffect(()=>{if(u)return t&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(ts=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),rs(),()=>{t&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=ts)}},[u,h,t,c]),p.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),rs())},[u,c]),p.useEffect(()=>{const j=()=>v({});return document.addEventListener(_r,j),()=>document.removeEventListener(_r,j)},[]),O.jsx(me.div,{...l,ref:y,style:{pointerEvents:_?E?"auto":"none":void 0,...r.style},onFocusCapture:ie(r.onFocusCapture,M.onFocusCapture),onBlurCapture:ie(r.onBlurCapture,M.onBlurCapture),onPointerDownCapture:ie(r.onPointerDownCapture,x.onPointerDownCapture)})});Gs.displayName=mi;var _i="DismissableLayerBranch",Js=p.forwardRef((r,e)=>{const t=p.useContext(Ks),s=p.useRef(null),n=Je(e,s);return p.useEffect(()=>{const i=s.current;if(i)return t.branches.add(i),()=>{t.branches.delete(i)}},[t.branches]),O.jsx(me.div,{...r,ref:n})});Js.displayName=_i;function ki(r,e=globalThis==null?void 0:globalThis.document){const t=xe(r),s=p.useRef(!1),n=p.useRef(()=>{});return p.useEffect(()=>{const i=a=>{if(a.target&&!s.current){let l=function(){Qs(bi,t,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",n.current),n.current=l,e.addEventListener("click",n.current,{once:!0})):l()}else e.removeEventListener("click",n.current);s.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",n.current)}},[e,t]),{onPointerDownCapture:()=>s.current=!0}}function Ei(r,e=globalThis==null?void 0:globalThis.document){const t=xe(r),s=p.useRef(!1);return p.useEffect(()=>{const n=i=>{i.target&&!s.current&&Qs(wi,t,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",n),()=>e.removeEventListener("focusin",n)},[e,t]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function rs(){const r=new CustomEvent(_r);document.dispatchEvent(r)}function Qs(r,e,t,{discrete:s}){const n=t.originalEvent.target,i=new CustomEvent(r,{bubbles:!1,cancelable:!0,detail:t});e&&n.addEventListener(r,e,{once:!0}),s?Hs(n,i):n.dispatchEvent(i)}var xi=Gs,Pi=Js,Gt=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},Si="Portal",Xs=p.forwardRef((r,e)=>{var a;const{container:t,...s}=r,[n,i]=p.useState(!1);Gt(()=>i(!0),[]);const o=t||n&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?ai.createPortal(O.jsx(me.div,{...s,ref:e}),o):null});Xs.displayName=Si;function Ti(r,e){return p.useReducer((t,s)=>e[t][s]??t,r)}var Ys=r=>{const{present:e,children:t}=r,s=Ci(e),n=typeof t=="function"?t({present:s.isPresent}):p.Children.only(t),i=Je(s.ref,Oi(n));return typeof t=="function"||s.isPresent?p.cloneElement(n,{ref:i}):null};Ys.displayName="Presence";function Ci(r){const[e,t]=p.useState(),s=p.useRef({}),n=p.useRef(r),i=p.useRef("none"),o=r?"mounted":"unmounted",[a,l]=Ti(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const c=Ut(s.current);i.current=a==="mounted"?c:"none"},[a]),Gt(()=>{const c=s.current,u=n.current;if(u!==r){const h=i.current,v=Ut(c);r?l("MOUNT"):v==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==v?"ANIMATION_OUT":"UNMOUNT"),n.current=r}},[r,l]),Gt(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=v=>{const g=Ut(s.current).includes(v.animationName);if(v.target===e&&g&&(l("ANIMATION_END"),!n.current)){const f=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=f)})}},h=v=>{v.target===e&&(i.current=Ut(s.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(c=>{c&&(s.current=getComputedStyle(c)),t(c)},[])}}function Ut(r){return(r==null?void 0:r.animationName)||"none"}function Oi(r){var s,n;let e=(s=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=(n=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:n.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}function Ri({prop:r,defaultProp:e,onChange:t=()=>{}}){const[s,n]=Ai({defaultProp:e,onChange:t}),i=r!==void 0,o=i?r:s,a=xe(t),l=p.useCallback(c=>{if(i){const d=typeof c=="function"?c(r):c;d!==r&&a(d)}else n(c)},[i,r,n,a]);return[o,l]}function Ai({defaultProp:r,onChange:e}){const t=p.useState(r),[s]=t,n=p.useRef(s),i=xe(e);return p.useEffect(()=>{n.current!==s&&(i(s),n.current=s)},[s,n,i]),t}var ji="VisuallyHidden",Nr=p.forwardRef((r,e)=>O.jsx(me.span,{...r,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...r.style}}));Nr.displayName=ji;var Ur="ToastProvider",[Fr,Ii,$i]=gi("Toast"),[Zs,su]=Ws("Toast",[$i]),[Li,Xt]=Zs(Ur),en=r=>{const{__scopeToast:e,label:t="Notification",duration:s=5e3,swipeDirection:n="right",swipeThreshold:i=50,children:o}=r,[a,l]=p.useState(null),[c,u]=p.useState(0),d=p.useRef(!1),h=p.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ur}\`. Expected non-empty \`string\`.`),O.jsx(Fr.Provider,{scope:e,children:O.jsx(Li,{scope:e,label:t,duration:s,swipeDirection:n,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:p.useCallback(()=>u(v=>v+1),[]),onToastRemove:p.useCallback(()=>u(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:o})})};en.displayName=Ur;var tn="ToastViewport",Mi=["F8"],kr="toast.viewportPause",Er="toast.viewportResume",rn=p.forwardRef((r,e)=>{const{__scopeToast:t,hotkey:s=Mi,label:n="Notifications ({hotkey})",...i}=r,o=Xt(tn,t),a=Ii(t),l=p.useRef(null),c=p.useRef(null),u=p.useRef(null),d=p.useRef(null),h=Je(e,d,o.onViewportChange),v=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;p.useEffect(()=>{const f=b=>{var _;s.length!==0&&s.every(E=>b[E]||b.code===E)&&((_=d.current)==null||_.focus())};return document.addEventListener("keydown",f),()=>document.removeEventListener("keydown",f)},[s]),p.useEffect(()=>{const f=l.current,b=d.current;if(y&&f&&b){const w=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(kr);b.dispatchEvent(M),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(Er);b.dispatchEvent(M),o.isClosePausedRef.current=!1}},E=M=>{!f.contains(M.relatedTarget)&&_()},x=()=>{f.contains(document.activeElement)||_()};return f.addEventListener("focusin",w),f.addEventListener("focusout",E),f.addEventListener("pointermove",w),f.addEventListener("pointerleave",x),window.addEventListener("blur",w),window.addEventListener("focus",_),()=>{f.removeEventListener("focusin",w),f.removeEventListener("focusout",E),f.removeEventListener("pointermove",w),f.removeEventListener("pointerleave",x),window.removeEventListener("blur",w),window.removeEventListener("focus",_)}}},[y,o.isClosePausedRef]);const g=p.useCallback(({tabbingDirection:f})=>{const w=a().map(_=>{const E=_.ref.current,x=[E,...Ji(E)];return f==="forwards"?x:x.reverse()});return(f==="forwards"?w.reverse():w).flat()},[a]);return p.useEffect(()=>{const f=d.current;if(f){const b=w=>{var x,M,j;const _=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!_){const I=document.activeElement,q=w.shiftKey;if(w.target===f&&q){(x=c.current)==null||x.focus();return}const $=g({tabbingDirection:q?"backwards":"forwards"}),se=$.findIndex(S=>S===I);dr($.slice(se+1))?w.preventDefault():q?(M=c.current)==null||M.focus():(j=u.current)==null||j.focus()}};return f.addEventListener("keydown",b),()=>f.removeEventListener("keydown",b)}},[a,g]),O.jsxs(Pi,{ref:l,role:"region","aria-label":n.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&O.jsx(xr,{ref:c,onFocusFromOutsideViewport:()=>{const f=g({tabbingDirection:"forwards"});dr(f)}}),O.jsx(Fr.Slot,{scope:t,children:O.jsx(me.ol,{tabIndex:-1,...i,ref:h})}),y&&O.jsx(xr,{ref:u,onFocusFromOutsideViewport:()=>{const f=g({tabbingDirection:"backwards"});dr(f)}})]})});rn.displayName=tn;var sn="ToastFocusProxy",xr=p.forwardRef((r,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:s,...n}=r,i=Xt(sn,t);return O.jsx(Nr,{"aria-hidden":!0,tabIndex:0,...n,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&s()}})});xr.displayName=sn;var Yt="Toast",Di="toast.swipeStart",Ni="toast.swipeMove",Ui="toast.swipeCancel",Fi="toast.swipeEnd",nn=p.forwardRef((r,e)=>{const{forceMount:t,open:s,defaultOpen:n,onOpenChange:i,...o}=r,[a=!0,l]=Ri({prop:s,defaultProp:n,onChange:i});return O.jsx(Ys,{present:t||a,children:O.jsx(zi,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:xe(r.onPause),onResume:xe(r.onResume),onSwipeStart:ie(r.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ie(r.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:ie(r.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ie(r.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});nn.displayName=Yt;var[Bi,qi]=Zs(Yt,{onClose(){}}),zi=p.forwardRef((r,e)=>{const{__scopeToast:t,type:s="foreground",duration:n,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:v,...y}=r,g=Xt(Yt,t),[f,b]=p.useState(null),w=Je(e,S=>b(S)),_=p.useRef(null),E=p.useRef(null),x=n||g.duration,M=p.useRef(0),j=p.useRef(x),I=p.useRef(0),{onToastAdd:q,onToastRemove:Z}=g,re=xe(()=>{var K;(f==null?void 0:f.contains(document.activeElement))&&((K=g.viewport)==null||K.focus()),o()}),$=p.useCallback(S=>{!S||S===1/0||(window.clearTimeout(I.current),M.current=new Date().getTime(),I.current=window.setTimeout(re,S))},[re]);p.useEffect(()=>{const S=g.viewport;if(S){const K=()=>{$(j.current),c==null||c()},G=()=>{const oe=new Date().getTime()-M.current;j.current=j.current-oe,window.clearTimeout(I.current),l==null||l()};return S.addEventListener(kr,G),S.addEventListener(Er,K),()=>{S.removeEventListener(kr,G),S.removeEventListener(Er,K)}}},[g.viewport,x,l,c,$]),p.useEffect(()=>{i&&!g.isClosePausedRef.current&&$(x)},[i,x,g.isClosePausedRef,$]),p.useEffect(()=>(q(),()=>Z()),[q,Z]);const se=p.useMemo(()=>f?hn(f):null,[f]);return g.viewport?O.jsxs(O.Fragment,{children:[se&&O.jsx(Vi,{__scopeToast:t,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:se}),O.jsx(Bi,{scope:t,onClose:re,children:Bs.createPortal(O.jsx(Fr.ItemSlot,{scope:t,children:O.jsx(xi,{asChild:!0,onEscapeKeyDown:ie(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||re(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:O.jsx(me.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:w,style:{userSelect:"none",touchAction:"none",...r.style},onKeyDown:ie(r.onKeyDown,S=>{S.key==="Escape"&&(a==null||a(S.nativeEvent),S.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,re()))}),onPointerDown:ie(r.onPointerDown,S=>{S.button===0&&(_.current={x:S.clientX,y:S.clientY})}),onPointerMove:ie(r.onPointerMove,S=>{if(!_.current)return;const K=S.clientX-_.current.x,G=S.clientY-_.current.y,oe=!!E.current,k=["left","right"].includes(g.swipeDirection),P=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,T=k?P(0,K):0,D=k?0:P(0,G),z=S.pointerType==="touch"?10:2,be={x:T,y:D},fe={originalEvent:S,delta:be};oe?(E.current=be,Ft(Ni,d,fe,{discrete:!1})):ss(be,g.swipeDirection,z)?(E.current=be,Ft(Di,u,fe,{discrete:!1}),S.target.setPointerCapture(S.pointerId)):(Math.abs(K)>z||Math.abs(G)>z)&&(_.current=null)}),onPointerUp:ie(r.onPointerUp,S=>{const K=E.current,G=S.target;if(G.hasPointerCapture(S.pointerId)&&G.releasePointerCapture(S.pointerId),E.current=null,_.current=null,K){const oe=S.currentTarget,k={originalEvent:S,delta:K};ss(K,g.swipeDirection,g.swipeThreshold)?Ft(Fi,v,k,{discrete:!0}):Ft(Ui,h,k,{discrete:!0}),oe.addEventListener("click",P=>P.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),Vi=r=>{const{__scopeToast:e,children:t,...s}=r,n=Xt(Yt,e),[i,o]=p.useState(!1),[a,l]=p.useState(!1);return Ki(()=>o(!0)),p.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:O.jsx(Xs,{asChild:!0,children:O.jsx(Nr,{...s,children:i&&O.jsxs(O.Fragment,{children:[n.label," ",t]})})})},Wi="ToastTitle",on=p.forwardRef((r,e)=>{const{__scopeToast:t,...s}=r;return O.jsx(me.div,{...s,ref:e})});on.displayName=Wi;var Hi="ToastDescription",an=p.forwardRef((r,e)=>{const{__scopeToast:t,...s}=r;return O.jsx(me.div,{...s,ref:e})});an.displayName=Hi;var ln="ToastAction",cn=p.forwardRef((r,e)=>{const{altText:t,...s}=r;return t.trim()?O.jsx(dn,{altText:t,asChild:!0,children:O.jsx(Br,{...s,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${ln}\`. Expected non-empty \`string\`.`),null)});cn.displayName=ln;var un="ToastClose",Br=p.forwardRef((r,e)=>{const{__scopeToast:t,...s}=r,n=qi(un,t);return O.jsx(dn,{asChild:!0,children:O.jsx(me.button,{type:"button",...s,ref:e,onClick:ie(r.onClick,n.onClose)})})});Br.displayName=un;var dn=p.forwardRef((r,e)=>{const{__scopeToast:t,altText:s,...n}=r;return O.jsx(me.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...n,ref:e})});function hn(r){const e=[];return Array.from(r.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),Gi(s)){const n=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!n)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...hn(s))}}),e}function Ft(r,e,t,{discrete:s}){const n=t.originalEvent.currentTarget,i=new CustomEvent(r,{bubbles:!0,cancelable:!0,detail:t});e&&n.addEventListener(r,e,{once:!0}),s?Hs(n,i):n.dispatchEvent(i)}var ss=(r,e,t=0)=>{const s=Math.abs(r.x),n=Math.abs(r.y),i=s>n;return e==="left"||e==="right"?i&&s>t:!i&&n>t};function Ki(r=()=>{}){const e=xe(r);Gt(()=>{let t=0,s=0;return t=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(s)}},[e])}function Gi(r){return r.nodeType===r.ELEMENT_NODE}function Ji(r){const e=[],t=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const n=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||n?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function dr(r){const e=document.activeElement;return r.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var nu=en,iu=rn,ou=nn,au=on,lu=an,cu=cn,uu=Br;function fn(r){var e,t,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var n=r.length;for(e=0;e<n;e++)r[e]&&(t=fn(r[e]))&&(s&&(s+=" "),s+=t)}else for(t in r)r[t]&&(s&&(s+=" "),s+=t);return s}function Qi(){for(var r,e,t=0,s="",n=arguments.length;t<n;t++)(r=arguments[t])&&(e=fn(r))&&(s&&(s+=" "),s+=e);return s}const ns=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,is=Qi,du=(r,e)=>t=>{var s;if((e==null?void 0:e.variants)==null)return is(r,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:n,defaultVariants:i}=e,o=Object.keys(n).map(c=>{const u=t==null?void 0:t[c],d=i==null?void 0:i[c];if(u===null)return null;const h=ns(u)||ns(d);return n[c][h]}),a=t&&Object.entries(t).reduce((c,u)=>{let[d,h]=u;return h===void 0||(c[d]=h),c},{}),l=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((c,u)=>{let{class:d,className:h,...v}=u;return Object.entries(v).every(y=>{let[g,f]=y;return Array.isArray(f)?f.includes({...i,...a}[g]):{...i,...a}[g]===f})?[...c,d,h]:c},[]);return is(r,o,l,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Xi={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),U=(r,e)=>{const t=p.forwardRef(({color:s="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},u)=>p.createElement("svg",{ref:u,...Xi,width:n,height:n,stroke:s,strokeWidth:o?Number(i)*24/Number(n):i,className:["lucide",`lucide-${Yi(r)}`,a].join(" "),...c},[...e.map(([d,h])=>p.createElement(d,h)),...Array.isArray(l)?l:[l]]));return t.displayName=`${r}`,t};/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=U("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=U("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=U("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=U("BarChart4",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M13 17V9",key:"1fwyjl"}],["path",{d:"M18 17V5",key:"sfb6ij"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=U("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=U("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=U("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=U("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=U("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=U("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=U("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=U("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=U("HandMetal",[["path",{d:"M18 12.5V10a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v1.4",key:"7eki13"}],["path",{d:"M14 11V9a2 2 0 1 0-4 0v2",key:"94qvcw"}],["path",{d:"M10 10.5V5a2 2 0 1 0-4 0v9",key:"m1ah89"}],["path",{d:"m7 15-1.76-1.76a2 2 0 0 0-2.83 2.82l3.6 3.6C7.5 21.14 9.2 22 12 22h2a8 8 0 0 0 8-8V7a2 2 0 1 0-4 0v5",key:"t1skq1"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=U("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=U("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=U("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=U("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=U("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=U("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=U("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=U("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=U("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=U("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=U("School",[["path",{d:"m4 6 8-4 8 4",key:"1q0ilc"}],["path",{d:"m18 10 4 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-8l4-2",key:"1vwozw"}],["path",{d:"M14 22v-4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v4",key:"cpkuc4"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=U("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=U("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=U("Sparkle",[["path",{d:"m12 3-1.9 5.8a2 2 0 0 1-1.287 1.288L3 12l5.8 1.9a2 2 0 0 1 1.288 1.287L12 21l1.9-5.8a2 2 0 0 1 1.287-1.288L21 12l-5.8-1.9a2 2 0 0 1-1.288-1.287Z",key:"nraa5p"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=U("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=U("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),qr="-",Zi=r=>{const e=to(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:s}=r;return{getClassGroupId:o=>{const a=o.split(qr);return a[0]===""&&a.length!==1&&a.shift(),pn(a,e)||eo(o)},getConflictingClassGroupIds:(o,a)=>{const l=t[o]||[];return a&&s[o]?[...l,...s[o]]:l}}},pn=(r,e)=>{var o;if(r.length===0)return e.classGroupId;const t=r[0],s=e.nextPart.get(t),n=s?pn(r.slice(1),s):void 0;if(n)return n;if(e.validators.length===0)return;const i=r.join(qr);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},os=/^\[(.+)\]$/,eo=r=>{if(os.test(r)){const e=os.exec(r)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},to=r=>{const{theme:e,prefix:t}=r,s={nextPart:new Map,validators:[]};return so(Object.entries(r.classGroups),t).forEach(([i,o])=>{Pr(o,s,i,e)}),s},Pr=(r,e,t,s)=>{r.forEach(n=>{if(typeof n=="string"){const i=n===""?e:as(e,n);i.classGroupId=t;return}if(typeof n=="function"){if(ro(n)){Pr(n(s),e,t,s);return}e.validators.push({validator:n,classGroupId:t});return}Object.entries(n).forEach(([i,o])=>{Pr(o,as(e,i),t,s)})})},as=(r,e)=>{let t=r;return e.split(qr).forEach(s=>{t.nextPart.has(s)||t.nextPart.set(s,{nextPart:new Map,validators:[]}),t=t.nextPart.get(s)}),t},ro=r=>r.isThemeGetter,so=(r,e)=>e?r.map(([t,s])=>{const n=s.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[t,n]}):r,no=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,s=new Map;const n=(i,o)=>{t.set(i,o),e++,e>r&&(e=0,s=t,t=new Map)};return{get(i){let o=t.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return n(i,o),o},set(i,o){t.has(i)?t.set(i,o):n(i,o)}}},gn="!",io=r=>{const{separator:e,experimentalParseClassName:t}=r,s=e.length===1,n=e[0],i=e.length,o=a=>{const l=[];let c=0,u=0,d;for(let f=0;f<a.length;f++){let b=a[f];if(c===0){if(b===n&&(s||a.slice(f,f+i)===e)){l.push(a.slice(u,f)),u=f+i;continue}if(b==="/"){d=f;continue}}b==="["?c++:b==="]"&&c--}const h=l.length===0?a:a.substring(u),v=h.startsWith(gn),y=v?h.substring(1):h,g=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:v,baseClassName:y,maybePostfixModifierPosition:g}};return t?a=>t({className:a,parseClassName:o}):o},oo=r=>{if(r.length<=1)return r;const e=[];let t=[];return r.forEach(s=>{s[0]==="["?(e.push(...t.sort(),s),t=[]):t.push(s)}),e.push(...t.sort()),e},ao=r=>({cache:no(r.cacheSize),parseClassName:io(r),...Zi(r)}),lo=/\s+/,co=(r,e)=>{const{parseClassName:t,getClassGroupId:s,getConflictingClassGroupIds:n}=e,i=[],o=r.trim().split(lo);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:v}=t(c);let y=!!v,g=s(y?h.substring(0,v):h);if(!g){if(!y){a=c+(a.length>0?" "+a:a);continue}if(g=s(h),!g){a=c+(a.length>0?" "+a:a);continue}y=!1}const f=oo(u).join(":"),b=d?f+gn:f,w=b+g;if(i.includes(w))continue;i.push(w);const _=n(g,y);for(let E=0;E<_.length;++E){const x=_[E];i.push(b+x)}a=c+(a.length>0?" "+a:a)}return a};function uo(){let r=0,e,t,s="";for(;r<arguments.length;)(e=arguments[r++])&&(t=vn(e))&&(s&&(s+=" "),s+=t);return s}const vn=r=>{if(typeof r=="string")return r;let e,t="";for(let s=0;s<r.length;s++)r[s]&&(e=vn(r[s]))&&(t&&(t+=" "),t+=e);return t};function ho(r,...e){let t,s,n,i=o;function o(l){const c=e.reduce((u,d)=>d(u),r());return t=ao(c),s=t.cache.get,n=t.cache.set,i=a,a(l)}function a(l){const c=s(l);if(c)return c;const u=co(l,t);return n(l,u),u}return function(){return i(uo.apply(null,arguments))}}const B=r=>{const e=t=>t[r]||[];return e.isThemeGetter=!0,e},yn=/^\[(?:([a-z-]+):)?(.+)\]$/i,fo=/^\d+\/\d+$/,po=new Set(["px","full","screen"]),go=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,vo=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,yo=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,mo=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bo=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,we=r=>nt(r)||po.has(r)||fo.test(r),Pe=r=>yt(r,"length",To),nt=r=>!!r&&!Number.isNaN(Number(r)),hr=r=>yt(r,"number",nt),_t=r=>!!r&&Number.isInteger(Number(r)),wo=r=>r.endsWith("%")&&nt(r.slice(0,-1)),R=r=>yn.test(r),Se=r=>go.test(r),_o=new Set(["length","size","percentage"]),ko=r=>yt(r,_o,mn),Eo=r=>yt(r,"position",mn),xo=new Set(["image","url"]),Po=r=>yt(r,xo,Oo),So=r=>yt(r,"",Co),kt=()=>!0,yt=(r,e,t)=>{const s=yn.exec(r);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):t(s[2]):!1},To=r=>vo.test(r)&&!yo.test(r),mn=()=>!1,Co=r=>mo.test(r),Oo=r=>bo.test(r),Ro=()=>{const r=B("colors"),e=B("spacing"),t=B("blur"),s=B("brightness"),n=B("borderColor"),i=B("borderRadius"),o=B("borderSpacing"),a=B("borderWidth"),l=B("contrast"),c=B("grayscale"),u=B("hueRotate"),d=B("invert"),h=B("gap"),v=B("gradientColorStops"),y=B("gradientColorStopPositions"),g=B("inset"),f=B("margin"),b=B("opacity"),w=B("padding"),_=B("saturate"),E=B("scale"),x=B("sepia"),M=B("skew"),j=B("space"),I=B("translate"),q=()=>["auto","contain","none"],Z=()=>["auto","hidden","clip","visible","scroll"],re=()=>["auto",R,e],$=()=>[R,e],se=()=>["",we,Pe],S=()=>["auto",nt,R],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],k=()=>["start","end","center","between","around","evenly","stretch"],P=()=>["","0",R],T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>[nt,R];return{cacheSize:500,separator:":",theme:{colors:[kt],spacing:[we,Pe],blur:["none","",Se,R],brightness:D(),borderColor:[r],borderRadius:["none","","full",Se,R],borderSpacing:$(),borderWidth:se(),contrast:D(),grayscale:P(),hueRotate:D(),invert:P(),gap:$(),gradientColorStops:[r],gradientColorStopPositions:[wo,Pe],inset:re(),margin:re(),opacity:D(),padding:$(),saturate:D(),scale:D(),sepia:P(),skew:D(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",R]}],container:["container"],columns:[{columns:[Se]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),R]}],overflow:[{overflow:Z()}],"overflow-x":[{"overflow-x":Z()}],"overflow-y":[{"overflow-y":Z()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_t,R]}],basis:[{basis:re()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",R]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",_t,R]}],"grid-cols":[{"grid-cols":[kt]}],"col-start-end":[{col:["auto",{span:["full",_t,R]},R]}],"col-start":[{"col-start":S()}],"col-end":[{"col-end":S()}],"grid-rows":[{"grid-rows":[kt]}],"row-start-end":[{row:["auto",{span:[_t,R]},R]}],"row-start":[{"row-start":S()}],"row-end":[{"row-end":S()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",R]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",R]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...k()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...k(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...k(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[f]}],mx:[{mx:[f]}],my:[{my:[f]}],ms:[{ms:[f]}],me:[{me:[f]}],mt:[{mt:[f]}],mr:[{mr:[f]}],mb:[{mb:[f]}],ml:[{ml:[f]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",R,e]}],"min-w":[{"min-w":[R,e,"min","max","fit"]}],"max-w":[{"max-w":[R,e,"none","full","min","max","fit","prose",{screen:[Se]},Se]}],h:[{h:[R,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[R,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[R,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[R,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Se,Pe]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",hr]}],"font-family":[{font:[kt]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",R]}],"line-clamp":[{"line-clamp":["none",nt,hr]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",we,R]}],"list-image":[{"list-image":["none",R]}],"list-style-type":[{list:["none","disc","decimal",R]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[r]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[r]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",we,Pe]}],"underline-offset":[{"underline-offset":["auto",we,R]}],"text-decoration-color":[{decoration:[r]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",R]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",R]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),Eo]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ko]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Po]}],"bg-color":[{bg:[r]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:G()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[we,R]}],"outline-w":[{outline:[we,Pe]}],"outline-color":[{outline:[r]}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[r]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[we,Pe]}],"ring-offset-color":[{"ring-offset":[r]}],shadow:[{shadow:["","inner","none",Se,So]}],"shadow-color":[{shadow:[kt]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...oe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[s]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Se,R]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[_]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",R]}],duration:[{duration:D()}],ease:[{ease:["linear","in","out","in-out",R]}],delay:[{delay:D()}],animate:[{animate:["none","spin","ping","pulse","bounce",R]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[_t,R]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",R]}],accent:[{accent:["auto",r]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",R]}],"caret-color":[{caret:[r]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",R]}],fill:[{fill:[r,"none"]}],"stroke-w":[{stroke:[we,Pe,hr]}],stroke:[{stroke:[r,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Bu=ho(Ro);var Zt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(r){return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},er=typeof window>"u"||"Deno"in globalThis;function ce(){}function Ao(r,e){return typeof r=="function"?r(e):r}function jo(r){return typeof r=="number"&&r>=0&&r!==1/0}function Io(r,e){return Math.max(r+(e||0)-Date.now(),0)}function ls(r,e){return typeof r=="function"?r(e):r}function $o(r,e){return typeof r=="function"?r(e):r}function cs(r,e){const{type:t="all",exact:s,fetchStatus:n,predicate:i,queryKey:o,stale:a}=r;if(o){if(s){if(e.queryHash!==zr(o,e.options))return!1}else if(!Ct(e.queryKey,o))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||n&&n!==e.state.fetchStatus||i&&!i(e))}function us(r,e){const{exact:t,status:s,predicate:n,mutationKey:i}=r;if(i){if(!e.options.mutationKey)return!1;if(t){if(Tt(e.options.mutationKey)!==Tt(i))return!1}else if(!Ct(e.options.mutationKey,i))return!1}return!(s&&e.state.status!==s||n&&!n(e))}function zr(r,e){return((e==null?void 0:e.queryKeyHashFn)||Tt)(r)}function Tt(r){return JSON.stringify(r,(e,t)=>Sr(t)?Object.keys(t).sort().reduce((s,n)=>(s[n]=t[n],s),{}):t)}function Ct(r,e){return r===e?!0:typeof r!=typeof e?!1:r&&e&&typeof r=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!Ct(r[t],e[t])):!1}function bn(r,e){if(r===e)return r;const t=ds(r)&&ds(e);if(t||Sr(r)&&Sr(e)){const s=t?r:Object.keys(r),n=s.length,i=t?e:Object.keys(e),o=i.length,a=t?[]:{};let l=0;for(let c=0;c<o;c++){const u=t?c:i[c];(!t&&s.includes(u)||t)&&r[u]===void 0&&e[u]===void 0?(a[u]=void 0,l++):(a[u]=bn(r[u],e[u]),a[u]===r[u]&&r[u]!==void 0&&l++)}return n===o&&l===n?r:a}return e}function ds(r){return Array.isArray(r)&&r.length===Object.keys(r).length}function Sr(r){if(!hs(r))return!1;const e=r.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!hs(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(r)!==Object.prototype)}function hs(r){return Object.prototype.toString.call(r)==="[object Object]"}function Lo(r){return new Promise(e=>{setTimeout(e,r)})}function Mo(r,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(r,e):t.structuralSharing!==!1?bn(r,e):e}function Do(r,e,t=0){const s=[...r,e];return t&&s.length>t?s.slice(1):s}function No(r,e,t=0){const s=[e,...r];return t&&s.length>t?s.slice(0,-1):s}var Vr=Symbol();function wn(r,e){return!r.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!r.queryFn||r.queryFn===Vr?()=>Promise.reject(new Error(`Missing queryFn: '${r.queryHash}'`)):r.queryFn}var Ve,je,ot,Is,Uo=(Is=class extends Zt{constructor(){super();N(this,Ve);N(this,je);N(this,ot);C(this,ot,e=>{if(!er&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){m(this,je)||this.setEventListener(m(this,ot))}onUnsubscribe(){var e;this.hasListeners()||((e=m(this,je))==null||e.call(this),C(this,je,void 0))}setEventListener(e){var t;C(this,ot,e),(t=m(this,je))==null||t.call(this),C(this,je,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){m(this,Ve)!==e&&(C(this,Ve,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof m(this,Ve)=="boolean"?m(this,Ve):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ve=new WeakMap,je=new WeakMap,ot=new WeakMap,Is),_n=new Uo,at,Ie,lt,$s,Fo=($s=class extends Zt{constructor(){super();N(this,at,!0);N(this,Ie);N(this,lt);C(this,lt,e=>{if(!er&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}})}onSubscribe(){m(this,Ie)||this.setEventListener(m(this,lt))}onUnsubscribe(){var e;this.hasListeners()||((e=m(this,Ie))==null||e.call(this),C(this,Ie,void 0))}setEventListener(e){var t;C(this,lt,e),(t=m(this,Ie))==null||t.call(this),C(this,Ie,e(this.setOnline.bind(this)))}setOnline(e){m(this,at)!==e&&(C(this,at,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return m(this,at)}},at=new WeakMap,Ie=new WeakMap,lt=new WeakMap,$s),Jt=new Fo;function Bo(){let r,e;const t=new Promise((n,i)=>{r=n,e=i});t.status="pending",t.catch(()=>{});function s(n){Object.assign(t,n),delete t.resolve,delete t.reject}return t.resolve=n=>{s({status:"fulfilled",value:n}),r(n)},t.reject=n=>{s({status:"rejected",reason:n}),e(n)},t}function qo(r){return Math.min(1e3*2**r,3e4)}function kn(r){return(r??"online")==="online"?Jt.isOnline():!0}var En=class extends Error{constructor(r){super("CancelledError"),this.revert=r==null?void 0:r.revert,this.silent=r==null?void 0:r.silent}};function fr(r){return r instanceof En}function xn(r){let e=!1,t=0,s=!1,n;const i=Bo(),o=g=>{var f;s||(h(new En(g)),(f=r.abort)==null||f.call(r))},a=()=>{e=!0},l=()=>{e=!1},c=()=>_n.isFocused()&&(r.networkMode==="always"||Jt.isOnline())&&r.canRun(),u=()=>kn(r.networkMode)&&r.canRun(),d=g=>{var f;s||(s=!0,(f=r.onSuccess)==null||f.call(r,g),n==null||n(),i.resolve(g))},h=g=>{var f;s||(s=!0,(f=r.onError)==null||f.call(r,g),n==null||n(),i.reject(g))},v=()=>new Promise(g=>{var f;n=b=>{(s||c())&&g(b)},(f=r.onPause)==null||f.call(r)}).then(()=>{var g;n=void 0,s||(g=r.onContinue)==null||g.call(r)}),y=()=>{if(s)return;let g;const f=t===0?r.initialPromise:void 0;try{g=f??r.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(d).catch(b=>{var M;if(s)return;const w=r.retry??(er?0:3),_=r.retryDelay??qo,E=typeof _=="function"?_(t,b):_,x=w===!0||typeof w=="number"&&t<w||typeof w=="function"&&w(t,b);if(e||!x){h(b);return}t++,(M=r.onFail)==null||M.call(r,t,b),Lo(E).then(()=>c()?void 0:v()).then(()=>{e?h(b):y()})})};return{promise:i,cancel:o,continue:()=>(n==null||n(),i),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?y():v().then(y),i)}}function zo(){let r=[],e=0,t=a=>{a()},s=a=>{a()},n=a=>setTimeout(a,0);const i=a=>{e?r.push(a):n(()=>{t(a)})},o=()=>{const a=r;r=[],a.length&&n(()=>{s(()=>{a.forEach(l=>{t(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{t=a},setBatchNotifyFunction:a=>{s=a},setScheduler:a=>{n=a}}}var Y=zo(),We,Ls,Pn=(Ls=class{constructor(){N(this,We)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),jo(this.gcTime)&&C(this,We,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(r){this.gcTime=Math.max(this.gcTime||0,r??(er?1/0:5*60*1e3))}clearGcTimeout(){m(this,We)&&(clearTimeout(m(this,We)),C(this,We,void 0))}},We=new WeakMap,Ls),ct,ut,ae,He,Q,jt,Ke,ue,_e,Ms,Vo=(Ms=class extends Pn{constructor(e){super();N(this,ue);N(this,ct);N(this,ut);N(this,ae);N(this,He);N(this,Q);N(this,jt);N(this,Ke);C(this,Ke,!1),C(this,jt,e.defaultOptions),this.setOptions(e.options),this.observers=[],C(this,He,e.client),C(this,ae,m(this,He).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,C(this,ct,Ho(this.options)),this.state=e.state??m(this,ct),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=m(this,Q))==null?void 0:e.promise}setOptions(e){this.options={...m(this,jt),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&m(this,ae).remove(this)}setData(e,t){const s=Mo(this.state.data,e,this.options);return J(this,ue,_e).call(this,{data:s,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),s}setState(e,t){J(this,ue,_e).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var s,n;const t=(s=m(this,Q))==null?void 0:s.promise;return(n=m(this,Q))==null||n.cancel(e),t?t.then(ce).catch(ce):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(m(this,ct))}isActive(){return this.observers.some(e=>$o(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Vr||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Io(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=m(this,Q))==null||t.continue()}onOnline(){var t;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=m(this,Q))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),m(this,ae).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(m(this,Q)&&(m(this,Ke)?m(this,Q).cancel({revert:!0}):m(this,Q).cancelRetry()),this.scheduleGc()),m(this,ae).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||J(this,ue,_e).call(this,{type:"invalidate"})}fetch(e,t){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(m(this,Q))return m(this,Q).continueRetry(),m(this,Q).promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const s=new AbortController,n=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(C(this,Ke,!0),s.signal)})},i=()=>{const d=wn(this.options,t),h={client:m(this,He),queryKey:this.queryKey,meta:this.meta};return n(h),C(this,Ke,!1),this.options.persister?this.options.persister(d,h,this):d(h)},o={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:m(this,He),state:this.state,fetchFn:i};n(o),(l=this.options.behavior)==null||l.onFetch(o,this),C(this,ut,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&J(this,ue,_e).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const a=d=>{var h,v,y,g;fr(d)&&d.silent||J(this,ue,_e).call(this,{type:"error",error:d}),fr(d)||((v=(h=m(this,ae).config).onError)==null||v.call(h,d,this),(g=(y=m(this,ae).config).onSettled)==null||g.call(y,this.state.data,d,this)),this.scheduleGc()};return C(this,Q,xn({initialPromise:t==null?void 0:t.initialPromise,fn:o.fetchFn,abort:s.abort.bind(s),onSuccess:d=>{var h,v,y,g;if(d===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(f){a(f);return}(v=(h=m(this,ae).config).onSuccess)==null||v.call(h,d,this),(g=(y=m(this,ae).config).onSettled)==null||g.call(y,d,this.state.error,this),this.scheduleGc()},onError:a,onFail:(d,h)=>{J(this,ue,_e).call(this,{type:"failed",failureCount:d,error:h})},onPause:()=>{J(this,ue,_e).call(this,{type:"pause"})},onContinue:()=>{J(this,ue,_e).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),m(this,Q).start()}},ct=new WeakMap,ut=new WeakMap,ae=new WeakMap,He=new WeakMap,Q=new WeakMap,jt=new WeakMap,Ke=new WeakMap,ue=new WeakSet,_e=function(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Wo(s.data,this.options),fetchMeta:e.meta??null};case"success":return{...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return fr(n)&&n.revert&&m(this,ut)?{...m(this,ut),fetchStatus:"idle"}:{...s,error:n,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),Y.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),m(this,ae).notify({query:this,type:"updated",action:e})})},Ms);function Wo(r,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:kn(e.networkMode)?"fetching":"paused",...r===void 0&&{error:null,status:"pending"}}}function Ho(r){const e=typeof r.initialData=="function"?r.initialData():r.initialData,t=e!==void 0,s=t?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var ge,Ds,Ko=(Ds=class extends Zt{constructor(e={}){super();N(this,ge);this.config=e,C(this,ge,new Map)}build(e,t,s){const n=t.queryKey,i=t.queryHash??zr(n,t);let o=this.get(i);return o||(o=new Vo({client:e,queryKey:n,queryHash:i,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(n)}),this.add(o)),o}add(e){m(this,ge).has(e.queryHash)||(m(this,ge).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=m(this,ge).get(e.queryHash);t&&(e.destroy(),t===e&&m(this,ge).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Y.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return m(this,ge).get(e)}getAll(){return[...m(this,ge).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>cs(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>cs(e,s)):t}notify(e){Y.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Y.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Y.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ge=new WeakMap,Ds),ve,X,Ge,ye,Te,Ns,Go=(Ns=class extends Pn{constructor(e){super();N(this,ye);N(this,ve);N(this,X);N(this,Ge);this.mutationId=e.mutationId,C(this,X,e.mutationCache),C(this,ve,[]),this.state=e.state||Jo(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){m(this,ve).includes(e)||(m(this,ve).push(e),this.clearGcTimeout(),m(this,X).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){C(this,ve,m(this,ve).filter(t=>t!==e)),this.scheduleGc(),m(this,X).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){m(this,ve).length||(this.state.status==="pending"?this.scheduleGc():m(this,X).remove(this))}continue(){var e;return((e=m(this,Ge))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var n,i,o,a,l,c,u,d,h,v,y,g,f,b,w,_,E,x,M,j;C(this,Ge,xn({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(I,q)=>{J(this,ye,Te).call(this,{type:"failed",failureCount:I,error:q})},onPause:()=>{J(this,ye,Te).call(this,{type:"pause"})},onContinue:()=>{J(this,ye,Te).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>m(this,X).canRun(this)}));const t=this.state.status==="pending",s=!m(this,Ge).canStart();try{if(!t){J(this,ye,Te).call(this,{type:"pending",variables:e,isPaused:s}),await((i=(n=m(this,X).config).onMutate)==null?void 0:i.call(n,e,this));const q=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));q!==this.state.context&&J(this,ye,Te).call(this,{type:"pending",context:q,variables:e,isPaused:s})}const I=await m(this,Ge).start();return await((c=(l=m(this,X).config).onSuccess)==null?void 0:c.call(l,I,e,this.state.context,this)),await((d=(u=this.options).onSuccess)==null?void 0:d.call(u,I,e,this.state.context)),await((v=(h=m(this,X).config).onSettled)==null?void 0:v.call(h,I,null,this.state.variables,this.state.context,this)),await((g=(y=this.options).onSettled)==null?void 0:g.call(y,I,null,e,this.state.context)),J(this,ye,Te).call(this,{type:"success",data:I}),I}catch(I){try{throw await((b=(f=m(this,X).config).onError)==null?void 0:b.call(f,I,e,this.state.context,this)),await((_=(w=this.options).onError)==null?void 0:_.call(w,I,e,this.state.context)),await((x=(E=m(this,X).config).onSettled)==null?void 0:x.call(E,void 0,I,this.state.variables,this.state.context,this)),await((j=(M=this.options).onSettled)==null?void 0:j.call(M,void 0,I,e,this.state.context)),I}finally{J(this,ye,Te).call(this,{type:"error",error:I})}}finally{m(this,X).runNext(this)}}},ve=new WeakMap,X=new WeakMap,Ge=new WeakMap,ye=new WeakSet,Te=function(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Y.batch(()=>{m(this,ve).forEach(s=>{s.onMutationUpdate(e)}),m(this,X).notify({mutation:this,type:"updated",action:e})})},Ns);function Jo(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ee,de,It,Us,Qo=(Us=class extends Zt{constructor(e={}){super();N(this,Ee);N(this,de);N(this,It);this.config=e,C(this,Ee,new Set),C(this,de,new Map),C(this,It,0)}build(e,t,s){const n=new Go({mutationCache:this,mutationId:++Nt(this,It)._,options:e.defaultMutationOptions(t),state:s});return this.add(n),n}add(e){m(this,Ee).add(e);const t=Bt(e);if(typeof t=="string"){const s=m(this,de).get(t);s?s.push(e):m(this,de).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(m(this,Ee).delete(e)){const t=Bt(e);if(typeof t=="string"){const s=m(this,de).get(t);if(s)if(s.length>1){const n=s.indexOf(e);n!==-1&&s.splice(n,1)}else s[0]===e&&m(this,de).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Bt(e);if(typeof t=="string"){const s=m(this,de).get(t),n=s==null?void 0:s.find(i=>i.state.status==="pending");return!n||n===e}else return!0}runNext(e){var s;const t=Bt(e);if(typeof t=="string"){const n=(s=m(this,de).get(t))==null?void 0:s.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Y.batch(()=>{m(this,Ee).forEach(e=>{this.notify({type:"removed",mutation:e})}),m(this,Ee).clear(),m(this,de).clear()})}getAll(){return Array.from(m(this,Ee))}find(e){const t={exact:!0,...e};return this.getAll().find(s=>us(t,s))}findAll(e={}){return this.getAll().filter(t=>us(e,t))}notify(e){Y.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Y.batch(()=>Promise.all(e.map(t=>t.continue().catch(ce))))}},Ee=new WeakMap,de=new WeakMap,It=new WeakMap,Us);function Bt(r){var e;return(e=r.options.scope)==null?void 0:e.id}function fs(r){return{onFetch:(e,t)=>{var u,d,h,v,y;const s=e.options,n=(h=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,i=((v=e.state.data)==null?void 0:v.pages)||[],o=((y=e.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const f=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},b=wn(e.options,e.fetchOptions),w=async(_,E,x)=>{if(g)return Promise.reject();if(E==null&&_.pages.length)return Promise.resolve(_);const M={client:e.client,queryKey:e.queryKey,pageParam:E,direction:x?"backward":"forward",meta:e.options.meta};f(M);const j=await b(M),{maxPages:I}=e.options,q=x?No:Do;return{pages:q(_.pages,j,I),pageParams:q(_.pageParams,E,I)}};if(n&&i.length){const _=n==="backward",E=_?Xo:ps,x={pages:i,pageParams:o},M=E(s,x);a=await w(x,M,_)}else{const _=r??i.length;do{const E=l===0?o[0]??s.initialPageParam:ps(s,a);if(l>0&&E==null)break;a=await w(a,E),l++}while(l<_)}return a};e.options.persister?e.fetchFn=()=>{var g,f;return(f=(g=e.options).persister)==null?void 0:f.call(g,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=c}}}function ps(r,{pages:e,pageParams:t}){const s=e.length-1;return e.length>0?r.getNextPageParam(e[s],e,t[s],t):void 0}function Xo(r,{pages:e,pageParams:t}){var s;return e.length>0?(s=r.getPreviousPageParam)==null?void 0:s.call(r,e[0],e,t[0],t):void 0}var V,$e,Le,dt,ht,Me,ft,pt,Fs,qu=(Fs=class{constructor(r={}){N(this,V);N(this,$e);N(this,Le);N(this,dt);N(this,ht);N(this,Me);N(this,ft);N(this,pt);C(this,V,r.queryCache||new Ko),C(this,$e,r.mutationCache||new Qo),C(this,Le,r.defaultOptions||{}),C(this,dt,new Map),C(this,ht,new Map),C(this,Me,0)}mount(){Nt(this,Me)._++,m(this,Me)===1&&(C(this,ft,_n.subscribe(async r=>{r&&(await this.resumePausedMutations(),m(this,V).onFocus())})),C(this,pt,Jt.subscribe(async r=>{r&&(await this.resumePausedMutations(),m(this,V).onOnline())})))}unmount(){var r,e;Nt(this,Me)._--,m(this,Me)===0&&((r=m(this,ft))==null||r.call(this),C(this,ft,void 0),(e=m(this,pt))==null||e.call(this),C(this,pt,void 0))}isFetching(r){return m(this,V).findAll({...r,fetchStatus:"fetching"}).length}isMutating(r){return m(this,$e).findAll({...r,status:"pending"}).length}getQueryData(r){var t;const e=this.defaultQueryOptions({queryKey:r});return(t=m(this,V).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(r){const e=this.defaultQueryOptions(r),t=m(this,V).build(this,e),s=t.state.data;return s===void 0?this.fetchQuery(r):(r.revalidateIfStale&&t.isStaleByTime(ls(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(r){return m(this,V).findAll(r).map(({queryKey:e,state:t})=>{const s=t.data;return[e,s]})}setQueryData(r,e,t){const s=this.defaultQueryOptions({queryKey:r}),n=m(this,V).get(s.queryHash),i=n==null?void 0:n.state.data,o=Ao(e,i);if(o!==void 0)return m(this,V).build(this,s).setData(o,{...t,manual:!0})}setQueriesData(r,e,t){return Y.batch(()=>m(this,V).findAll(r).map(({queryKey:s})=>[s,this.setQueryData(s,e,t)]))}getQueryState(r){var t;const e=this.defaultQueryOptions({queryKey:r});return(t=m(this,V).get(e.queryHash))==null?void 0:t.state}removeQueries(r){const e=m(this,V);Y.batch(()=>{e.findAll(r).forEach(t=>{e.remove(t)})})}resetQueries(r,e){const t=m(this,V),s={type:"active",...r};return Y.batch(()=>(t.findAll(r).forEach(n=>{n.reset()}),this.refetchQueries(s,e)))}cancelQueries(r,e={}){const t={revert:!0,...e},s=Y.batch(()=>m(this,V).findAll(r).map(n=>n.cancel(t)));return Promise.all(s).then(ce).catch(ce)}invalidateQueries(r,e={}){return Y.batch(()=>{if(m(this,V).findAll(r).forEach(s=>{s.invalidate()}),(r==null?void 0:r.refetchType)==="none")return Promise.resolve();const t={...r,type:(r==null?void 0:r.refetchType)??(r==null?void 0:r.type)??"active"};return this.refetchQueries(t,e)})}refetchQueries(r,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},s=Y.batch(()=>m(this,V).findAll(r).filter(n=>!n.isDisabled()).map(n=>{let i=n.fetch(void 0,t);return t.throwOnError||(i=i.catch(ce)),n.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(ce)}fetchQuery(r){const e=this.defaultQueryOptions(r);e.retry===void 0&&(e.retry=!1);const t=m(this,V).build(this,e);return t.isStaleByTime(ls(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(r){return this.fetchQuery(r).then(ce).catch(ce)}fetchInfiniteQuery(r){return r.behavior=fs(r.pages),this.fetchQuery(r)}prefetchInfiniteQuery(r){return this.fetchInfiniteQuery(r).then(ce).catch(ce)}ensureInfiniteQueryData(r){return r.behavior=fs(r.pages),this.ensureQueryData(r)}resumePausedMutations(){return Jt.isOnline()?m(this,$e).resumePausedMutations():Promise.resolve()}getQueryCache(){return m(this,V)}getMutationCache(){return m(this,$e)}getDefaultOptions(){return m(this,Le)}setDefaultOptions(r){C(this,Le,r)}setQueryDefaults(r,e){m(this,dt).set(Tt(r),{queryKey:r,defaultOptions:e})}getQueryDefaults(r){const e=[...m(this,dt).values()],t={};return e.forEach(s=>{Ct(r,s.queryKey)&&Object.assign(t,s.defaultOptions)}),t}setMutationDefaults(r,e){m(this,ht).set(Tt(r),{mutationKey:r,defaultOptions:e})}getMutationDefaults(r){const e=[...m(this,ht).values()];let t={};return e.forEach(s=>{Ct(r,s.mutationKey)&&(t={...t,...s.defaultOptions})}),t}defaultQueryOptions(r){if(r._defaulted)return r;const e={...m(this,Le).queries,...this.getQueryDefaults(r.queryKey),...r,_defaulted:!0};return e.queryHash||(e.queryHash=zr(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Vr&&(e.enabled=!1),e}defaultMutationOptions(r){return r!=null&&r._defaulted?r:{...m(this,Le).mutations,...(r==null?void 0:r.mutationKey)&&this.getMutationDefaults(r.mutationKey),...r,_defaulted:!0}}clear(){m(this,V).clear(),m(this,$e).clear()}},V=new WeakMap,$e=new WeakMap,Le=new WeakMap,dt=new WeakMap,ht=new WeakMap,Me=new WeakMap,ft=new WeakMap,pt=new WeakMap,Fs),Yo=p.createContext(void 0),zu=({client:r,children:e})=>(p.useEffect(()=>(r.mount(),()=>{r.unmount()}),[r]),O.jsx(Yo.Provider,{value:r,children:e}));/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ot(){return Ot=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},Ot.apply(this,arguments)}var De;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(De||(De={}));const gs="popstate";function Vu(r){r===void 0&&(r={});function e(n,i){let{pathname:o="/",search:a="",hash:l=""}=Qe(n.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Tr("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){let o=n.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=n.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof i=="string"?i:Sn(i))}function s(n,i){Wr(n.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return ea(e,t,s,r)}function W(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Wr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Zo(){return Math.random().toString(36).substr(2,8)}function vs(r,e){return{usr:r.state,key:r.key,idx:e}}function Tr(r,e,t,s){return t===void 0&&(t=null),Ot({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?Qe(e):e,{state:t,key:e&&e.key||s||Zo()})}function Sn(r){let{pathname:e="/",search:t="",hash:s=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Qe(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substr(s),r=r.substr(0,s)),r&&(e.pathname=r)}return e}function ea(r,e,t,s){s===void 0&&(s={});let{window:n=document.defaultView,v5Compat:i=!1}=s,o=n.history,a=De.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Ot({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=De.Pop;let f=u(),b=f==null?null:f-c;c=f,l&&l({action:a,location:g.location,delta:b})}function h(f,b){a=De.Push;let w=Tr(g.location,f,b);t&&t(w,f),c=u()+1;let _=vs(w,c),E=g.createHref(w);try{o.pushState(_,"",E)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;n.location.assign(E)}i&&l&&l({action:a,location:g.location,delta:1})}function v(f,b){a=De.Replace;let w=Tr(g.location,f,b);t&&t(w,f),c=u();let _=vs(w,c),E=g.createHref(w);o.replaceState(_,"",E),i&&l&&l({action:a,location:g.location,delta:0})}function y(f){let b=n.location.origin!=="null"?n.location.origin:n.location.href,w=typeof f=="string"?f:Sn(f);return w=w.replace(/ $/,"%20"),W(b,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,b)}let g={get action(){return a},get location(){return r(n,o)},listen(f){if(l)throw new Error("A history only accepts one active listener");return n.addEventListener(gs,d),l=f,()=>{n.removeEventListener(gs,d),l=null}},createHref(f){return e(n,f)},createURL:y,encodeLocation(f){let b=y(f);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:v,go(f){return o.go(f)}};return g}var ys;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(ys||(ys={}));function ta(r,e,t){return t===void 0&&(t="/"),ra(r,e,t)}function ra(r,e,t,s){let n=typeof e=="string"?Qe(e):e,i=On(n.pathname||"/",t);if(i==null)return null;let o=Tn(r);sa(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=ga(i);a=ha(o[l],c)}return a}function Tn(r,e,t,s){e===void 0&&(e=[]),t===void 0&&(t=[]),s===void 0&&(s="");let n=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(W(l.relativePath.startsWith(s),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(s.length));let c=Ne([s,l.relativePath]),u=t.concat(l);i.children&&i.children.length>0&&(W(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Tn(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:ua(c,i.index),routesMeta:u})};return r.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))n(i,o);else for(let l of Cn(i.path))n(i,o,l)}),e}function Cn(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,n=t.endsWith("?"),i=t.replace(/\?$/,"");if(s.length===0)return n?[i,""]:[i];let o=Cn(s.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),n&&a.push(...o),a.map(l=>r.startsWith("/")&&l===""?"/":l)}function sa(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:da(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const na=/^:[\w-]+$/,ia=3,oa=2,aa=1,la=10,ca=-2,ms=r=>r==="*";function ua(r,e){let t=r.split("/"),s=t.length;return t.some(ms)&&(s+=ca),e&&(s+=oa),t.filter(n=>!ms(n)).reduce((n,i)=>n+(na.test(i)?ia:i===""?aa:la),s)}function da(r,e){return r.length===e.length&&r.slice(0,-1).every((s,n)=>s===e[n])?r[r.length-1]-e[e.length-1]:0}function ha(r,e,t){let{routesMeta:s}=r,n={},i="/",o=[];for(let a=0;a<s.length;++a){let l=s[a],c=a===s.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=fa({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d)return null;Object.assign(n,d.params),o.push({params:n,pathname:Ne([i,d.pathname]),pathnameBase:ba(Ne([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Ne([i,d.pathnameBase]))}return o}function fa(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=pa(r.path,r.caseSensitive,r.end),n=e.match(t);if(!n)return null;let i=n[0],o=i.replace(/(.)\/+$/,"$1"),a=n.slice(1);return{params:s.reduce((c,u,d)=>{let{paramName:h,isOptional:v}=u;if(h==="*"){let g=a[d]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const y=a[d];return v&&!y?c[h]=void 0:c[h]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:r}}function pa(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Wr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let s=[],n="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(s.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),n+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?n+="\\/*$":r!==""&&r!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,e?void 0:"i"),s]}function ga(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wr(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function On(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function va(r,e){e===void 0&&(e="/");let{pathname:t,search:s="",hash:n=""}=typeof r=="string"?Qe(r):r;return{pathname:t?t.startsWith("/")?t:ya(t,e):e,search:wa(s),hash:_a(n)}}function ya(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(n=>{n===".."?t.length>1&&t.pop():n!=="."&&t.push(n)}),t.length>1?t.join("/"):"/"}function pr(r,e,t,s){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ma(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Rn(r,e){let t=ma(r);return e?t.map((s,n)=>n===t.length-1?s.pathname:s.pathnameBase):t.map(s=>s.pathnameBase)}function An(r,e,t,s){s===void 0&&(s=!1);let n;typeof r=="string"?n=Qe(r):(n=Ot({},r),W(!n.pathname||!n.pathname.includes("?"),pr("?","pathname","search",n)),W(!n.pathname||!n.pathname.includes("#"),pr("#","pathname","hash",n)),W(!n.search||!n.search.includes("#"),pr("#","search","hash",n)));let i=r===""||n.pathname==="",o=i?"/":n.pathname,a;if(o==null)a=t;else{let d=e.length-1;if(!s&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;n.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=va(n,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Ne=r=>r.join("/").replace(/\/\/+/g,"/"),ba=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),wa=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,_a=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function ka(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const jn=["post","put","patch","delete"];new Set(jn);const Ea=["get",...jn];new Set(Ea);/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rt(){return Rt=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},Rt.apply(this,arguments)}const Hr=p.createContext(null),xa=p.createContext(null),mt=p.createContext(null),tr=p.createContext(null),Xe=p.createContext({outlet:null,matches:[],isDataRoute:!1}),In=p.createContext(null);function Wu(r,e){let{relative:t}=e===void 0?{}:e;$t()||W(!1);let{basename:s,navigator:n}=p.useContext(mt),{hash:i,pathname:o,search:a}=Sa(r,{relative:t}),l=o;return s!=="/"&&(l=o==="/"?s:Ne([s,o])),n.createHref({pathname:l,search:a,hash:i})}function $t(){return p.useContext(tr)!=null}function Kr(){return $t()||W(!1),p.useContext(tr).location}function $n(r){p.useContext(mt).static||p.useLayoutEffect(r)}function Hu(){let{isDataRoute:r}=p.useContext(Xe);return r?Na():Pa()}function Pa(){$t()||W(!1);let r=p.useContext(Hr),{basename:e,future:t,navigator:s}=p.useContext(mt),{matches:n}=p.useContext(Xe),{pathname:i}=Kr(),o=JSON.stringify(Rn(n,t.v7_relativeSplatPath)),a=p.useRef(!1);return $n(()=>{a.current=!0}),p.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){s.go(c);return}let d=An(c,JSON.parse(o),i,u.relative==="path");r==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ne([e,d.pathname])),(u.replace?s.replace:s.push)(d,u.state,u)},[e,s,o,i,r])}function Sa(r,e){let{relative:t}=e===void 0?{}:e,{future:s}=p.useContext(mt),{matches:n}=p.useContext(Xe),{pathname:i}=Kr(),o=JSON.stringify(Rn(n,s.v7_relativeSplatPath));return p.useMemo(()=>An(r,JSON.parse(o),i,t==="path"),[r,o,i,t])}function Ta(r,e){return Ca(r,e)}function Ca(r,e,t,s){$t()||W(!1);let{navigator:n,static:i}=p.useContext(mt),{matches:o}=p.useContext(Xe),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Kr(),d;if(e){var h;let b=typeof e=="string"?Qe(e):e;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||W(!1),d=b}else d=u;let v=d.pathname||"/",y=v;if(c!=="/"){let b=c.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(b.length).join("/")}let g=ta(r,{pathname:y}),f=Ia(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Ne([c,n.encodeLocation?n.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Ne([c,n.encodeLocation?n.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,t,s);return e&&f?p.createElement(tr.Provider,{value:{location:Rt({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:De.Pop}},f):f}function Oa(){let r=Da(),e=ka(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),t?p.createElement("pre",{style:n},t):null,null)}const Ra=p.createElement(Oa,null);class Aa extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?p.createElement(Xe.Provider,{value:this.props.routeContext},p.createElement(In.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ja(r){let{routeContext:e,match:t,children:s}=r,n=p.useContext(Hr);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),p.createElement(Xe.Provider,{value:e},s)}function Ia(r,e,t,s){var n;if(e===void 0&&(e=[]),t===void 0&&(t=null),s===void 0&&(s=null),r==null){var i;if(!t)return null;if(t.errors)r=t.matches;else if((i=s)!=null&&i.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,a=(n=t)==null?void 0:n.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||W(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(t&&s&&s.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:v}=t,y=d.route.loader&&h[d.route.id]===void 0&&(!v||v[d.route.id]===void 0);if(d.route.lazy||y){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let v,y=!1,g=null,f=null;t&&(v=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||Ra,l&&(c<0&&h===0?(Ua("route-fallback"),y=!0,f=null):c===h&&(y=!0,f=d.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,h+1)),w=()=>{let _;return v?_=g:y?_=f:d.route.Component?_=p.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=u,p.createElement(ja,{match:d,routeContext:{outlet:u,matches:b,isDataRoute:t!=null},children:_})};return t&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?p.createElement(Aa,{location:t.location,revalidation:t.revalidation,component:g,error:v,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):w()},null)}var Ln=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(Ln||{}),Mn=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(Mn||{});function $a(r){let e=p.useContext(Hr);return e||W(!1),e}function La(r){let e=p.useContext(xa);return e||W(!1),e}function Ma(r){let e=p.useContext(Xe);return e||W(!1),e}function Dn(r){let e=Ma(),t=e.matches[e.matches.length-1];return t.route.id||W(!1),t.route.id}function Da(){var r;let e=p.useContext(In),t=La(),s=Dn();return e!==void 0?e:(r=t.errors)==null?void 0:r[s]}function Na(){let{router:r}=$a(Ln.UseNavigateStable),e=Dn(Mn.UseNavigateStable),t=p.useRef(!1);return $n(()=>{t.current=!0}),p.useCallback(function(n,i){i===void 0&&(i={}),t.current&&(typeof n=="number"?r.navigate(n):r.navigate(n,Rt({fromRouteId:e},i)))},[r,e])}const bs={};function Ua(r,e,t){bs[r]||(bs[r]=!0)}function Ku(r,e){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function Fa(r){W(!1)}function Gu(r){let{basename:e="/",children:t=null,location:s,navigationType:n=De.Pop,navigator:i,static:o=!1,future:a}=r;$t()&&W(!1);let l=e.replace(/^\/*/,"/"),c=p.useMemo(()=>({basename:l,navigator:i,static:o,future:Rt({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof s=="string"&&(s=Qe(s));let{pathname:u="/",search:d="",hash:h="",state:v=null,key:y="default"}=s,g=p.useMemo(()=>{let f=On(u,l);return f==null?null:{location:{pathname:f,search:d,hash:h,state:v,key:y},navigationType:n}},[l,u,d,h,v,y,n]);return g==null?null:p.createElement(mt.Provider,{value:c},p.createElement(tr.Provider,{children:t,value:g}))}function Ju(r){let{children:e,location:t}=r;return Ta(Cr(e),t)}new Promise(()=>{});function Cr(r,e){e===void 0&&(e=[]);let t=[];return p.Children.forEach(r,(s,n)=>{if(!p.isValidElement(s))return;let i=[...e,n];if(s.type===p.Fragment){t.push.apply(t,Cr(s.props.children,i));return}s.type!==Fa&&W(!1),!s.props.index||!s.props.children||W(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=Cr(s.props.children,i)),t.push(o)}),t}const Ba=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>gt(async()=>{const{default:s}=await Promise.resolve().then(()=>bt);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)};class Gr extends Error{constructor(e,t="FunctionsError",s){super(e),this.name=t,this.context=s}}class qa extends Gr{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class za extends Gr{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Va extends Gr{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Or;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Or||(Or={}));var Wa=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(r,e||[])).next())})};class Ha{constructor(e,{headers:t={},customFetch:s,region:n=Or.Any}={}){this.url=e,this.headers=t,this.region=n,this.fetch=Ba(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var s;return Wa(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=t;let a={},{region:l}=t;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:c}).catch(y=>{throw new qa(y)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new za(u);if(!u.ok)throw new Va(u);let h=((s=u.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),v;return h==="application/json"?v=yield u.json():h==="application/octet-stream"?v=yield u.blob():h==="text/event-stream"?v=u:h==="multipart/form-data"?v=yield u.formData():v=yield u.text(),{data:v,error:null}}catch(n){return{data:null,error:n}}})}}var te={},Jr={},rr={},Lt={},sr={},nr={},Ka=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},vt=Ka();const Ga=vt.fetch,Nn=vt.fetch.bind(vt),Un=vt.Headers,Ja=vt.Request,Qa=vt.Response,bt=Object.freeze(Object.defineProperty({__proto__:null,Headers:Un,Request:Ja,Response:Qa,default:Nn,fetch:Ga},Symbol.toStringTag,{value:"Module"})),Xa=ci(bt);var ir={};Object.defineProperty(ir,"__esModule",{value:!0});let Ya=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};ir.default=Ya;var Fn=le&&le.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(nr,"__esModule",{value:!0});const Za=Fn(Xa),el=Fn(ir);let tl=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Za.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let n=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,u=null,d=null,h=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const b=await i.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=b:u=JSON.parse(b))}const g=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),f=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");g&&f&&f.length>1&&(d=parseInt(f[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,v="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const g=await i.text();try{c=JSON.parse(g),Array.isArray(c)&&i.status===404&&(u=[],c=null,h=200,v="OK")}catch{i.status===404&&g===""?(h=204,v="No Content"):c={message:g}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,v="OK"),c&&this.shouldThrowOnError)throw new el.default(c)}return{error:c,data:u,count:d,status:h,statusText:v}});return this.shouldThrowOnError||(n=n.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}};nr.default=tl;var rl=le&&le.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(sr,"__esModule",{value:!0});const sl=rl(nr);let nl=class extends sl.default{select(e){let t=!1;const s=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:s,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:s=t}={}){const n=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:s,referencedTable:n=s}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:s=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,t?"verbose":null,s?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};sr.default=nl;var il=le&&le.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Lt,"__esModule",{value:!0});const ol=il(sr);let al=class extends ol.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const s=Array.from(new Set(t)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:s,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(e,`${i}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,s])=>{this.url.searchParams.append(t,`eq.${s}`)}),this}not(e,t,s){return this.url.searchParams.append(e,`not.${t}.${s}`),this}or(e,{foreignTable:t,referencedTable:s=t}={}){const n=s?`${s}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,s){return this.url.searchParams.append(e,`${t}.${s}`),this}};Lt.default=al;var ll=le&&le.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(rr,"__esModule",{value:!0});const Et=ll(Lt);let cl=class{constructor(e,{headers:t={},schema:s,fetch:n}){this.url=e,this.headers=t,this.schema=s,this.fetch=n}select(e,{head:t=!1,count:s}={}){const n=t?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),s&&(this.headers.Prefer=`count=${s}`),new Et.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:s=!0}={}){const n="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Et.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:s=!1,count:n,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${s?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Et.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const s="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),this.headers.Prefer=n.join(","),new Et.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",s=[];return e&&s.push(`count=${e}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new Et.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};rr.default=cl;var or={},ar={};Object.defineProperty(ar,"__esModule",{value:!0});ar.version=void 0;ar.version="0.0.0-automated";Object.defineProperty(or,"__esModule",{value:!0});or.DEFAULT_HEADERS=void 0;const ul=ar;or.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${ul.version}`};var Bn=le&&le.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Jr,"__esModule",{value:!0});const dl=Bn(rr),hl=Bn(Lt),fl=or;let pl=class qn{constructor(e,{headers:t={},schema:s,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},fl.DEFAULT_HEADERS),t),this.schemaName=s,this.fetch=n}from(e){const t=new URL(`${this.url}/${e}`);return new dl.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new qn(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:s=!1,get:n=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;s||n?(o=s?"HEAD":"GET",Object.entries(t).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(o="POST",l=t);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new hl.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Jr.default=pl;var wt=le&&le.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(te,"__esModule",{value:!0});te.PostgrestError=te.PostgrestBuilder=te.PostgrestTransformBuilder=te.PostgrestFilterBuilder=te.PostgrestQueryBuilder=te.PostgrestClient=void 0;const zn=wt(Jr);te.PostgrestClient=zn.default;const Vn=wt(rr);te.PostgrestQueryBuilder=Vn.default;const Wn=wt(Lt);te.PostgrestFilterBuilder=Wn.default;const Hn=wt(sr);te.PostgrestTransformBuilder=Hn.default;const Kn=wt(nr);te.PostgrestBuilder=Kn.default;const Gn=wt(ir);te.PostgrestError=Gn.default;var gl=te.default={PostgrestClient:zn.default,PostgrestQueryBuilder:Vn.default,PostgrestFilterBuilder:Wn.default,PostgrestTransformBuilder:Hn.default,PostgrestBuilder:Kn.default,PostgrestError:Gn.default};const{PostgrestClient:vl,PostgrestQueryBuilder:td,PostgrestFilterBuilder:rd,PostgrestTransformBuilder:sd,PostgrestBuilder:nd,PostgrestError:id}=gl,yl="2.11.2",ml={"X-Client-Info":`realtime-js/${yl}`},bl="1.0.0",Jn=1e4,wl=1e3;var it;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(it||(it={}));var ne;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(ne||(ne={}));var he;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(he||(he={}));var Rr;(function(r){r.websocket="websocket"})(Rr||(Rr={}));var ze;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(ze||(ze={}));class _l{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,t,s)}_decodeBroadcast(e,t,s){const n=t.getUint8(1),i=t.getUint8(2);let o=this.HEADER_LENGTH+2;const a=s.decode(e.slice(o,o+n));o=o+n;const l=s.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(s.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Qn{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var F;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(F||(F={}));const ws=(r,e,t={})=>{var s;const n=(s=t.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((i,o)=>(i[o]=kl(o,r,e,n),i),{})},kl=(r,e,t,s)=>{const n=e.find(a=>a.name===r),i=n==null?void 0:n.type,o=t[r];return i&&!s.includes(i)?Xn(i,o):Ar(o)},Xn=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return Sl(e,t)}switch(r){case F.bool:return El(e);case F.float4:case F.float8:case F.int2:case F.int4:case F.int8:case F.numeric:case F.oid:return xl(e);case F.json:case F.jsonb:return Pl(e);case F.timestamp:return Tl(e);case F.abstime:case F.date:case F.daterange:case F.int4range:case F.int8range:case F.money:case F.reltime:case F.text:case F.time:case F.timestamptz:case F.timetz:case F.tsrange:case F.tstzrange:return Ar(e);default:return Ar(e)}},Ar=r=>r,El=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},xl=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},Pl=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},Sl=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,s=r[t];if(r[0]==="{"&&s==="}"){let i;const o=r.slice(1,t);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Xn(e,a))}return r},Tl=r=>typeof r=="string"?r.replace(" ","T"):r,Yn=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class gr{constructor(e,t,s={},n=Jn){this.channel=e,this.event=t,this.payload=s,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var s;return this._hasReceived(e)&&t((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var _s;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(_s||(_s={}));class Pt{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Pt.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=Pt.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Pt.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,s,n){const i=this.cloneDeep(e),o=this.transformState(t),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=i[c];if(d){const h=u.map(f=>f.presence_ref),v=d.map(f=>f.presence_ref),y=u.filter(f=>v.indexOf(f.presence_ref)<0),g=d.filter(f=>h.indexOf(f.presence_ref)<0);y.length>0&&(a[c]=y),g.length>0&&(l[c]=g)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},s,n)}static syncDiff(e,t,s,n){const{joins:i,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return s||(s=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(v=>v.presence_ref),h=u.filter(v=>d.indexOf(v.presence_ref)<0);e[a].unshift(...h)}s(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,n(a,c,l),c.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(s=>t(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,s)=>{const n=e[s];return"metas"in n?t[s]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[s]=n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ks;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(ks||(ks={}));var Es;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Es||(Es={}));var ke;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(ke||(ke={}));class Qr{constructor(e,t={config:{}},s){this.topic=e,this.params=t,this.socket=s,this.bindings={},this.state=ne.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new gr(this,he.join,this.params,this.timeout),this.rejoinTimer=new Qn(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ne.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ne.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this._on(he.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new Pt(this),this.broadcastEndpointURL=Yn(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var s,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>e==null?void 0:e(ke.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(ke.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(n=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(u=>u.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(ke.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,v=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,y=[];for(let g=0;g<v;g++){const f=h[g],{filter:{event:b,schema:w,table:_,filter:E}}=f,x=u&&u[g];if(x&&x.event===b&&x.schema===w&&x.table===_&&x.filter===E)y.push(Object.assign(Object.assign({},f),{id:x.id}));else{this.unsubscribe(),e==null||e(ke.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(ke.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(ke.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ke.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,s){return this._on(e,t,s)}async send(e,t={}){var s,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=t.timeout)!==null&&s!==void 0?s:this.timeout);return await((n=c.body)===null||n===void 0?void 0:n.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ne.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(he.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const n=new gr(this,he.leave,{},e);n.receive("ok",()=>{t(),s("ok")}).receive("timeout",()=>{t(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(e,t,s){const n=new AbortController,i=setTimeout(()=>n.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(i),o}_push(e,t,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new gr(this,e,t,s);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,t,s){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,s){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=he;if(s&&[a,l,c,u].indexOf(o)>=0&&s!==this._joinRef())return;let h=this._onMessage(o,t,s);if(t&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(v=>{var y,g,f;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((f=(g=v.filter)===null||g===void 0?void 0:g.event)===null||f===void 0?void 0:f.toLocaleLowerCase())===o}).map(v=>v.callback(h,s)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var y,g,f,b,w,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const E=v.id,x=(y=v.filter)===null||y===void 0?void 0:y.event;return E&&((g=t.ids)===null||g===void 0?void 0:g.includes(E))&&(x==="*"||(x==null?void 0:x.toLocaleLowerCase())===((f=t.data)===null||f===void 0?void 0:f.type.toLocaleLowerCase()))}else{const E=(w=(b=v==null?void 0:v.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return E==="*"||E===((_=t==null?void 0:t.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:g,table:f,commit_timestamp:b,type:w,errors:_}=y;h=Object.assign(Object.assign({},{schema:g,table:f,commit_timestamp:b,eventType:w,new:{},old:{},errors:_}),this._getPayloadRecords(y))}v.callback(h,s)})}_isClosed(){return this.state===ne.closed}_isJoined(){return this.state===ne.joined}_isJoining(){return this.state===ne.joining}_isLeaving(){return this.state===ne.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,s){const n=e.toLocaleLowerCase(),i={type:n,filter:t,callback:s};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,t){const s=e.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&Qr.isEqual(n.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(he.close,{},e)}_onError(e){this._on(he.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ne.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=ws(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=ws(e.columns,e.old_record)),t}}const Cl=()=>{},Ol=typeof WebSocket<"u",Rl=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Al{constructor(e,t){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=ml,this.params={},this.timeout=Jn,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Cl,this.conn=null,this.sendBuffer=[],this.serializer=new _l,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>gt(async()=>{const{default:l}=await Promise.resolve().then(()=>bt);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Rr.websocket}`,this.httpEndpoint=Yn(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const n=(s=t==null?void 0:t.params)===null||s===void 0?void 0:s.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(i,o)=>o(JSON.stringify(i)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Qn(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Ol){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new jl(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),gt(async()=>{const{default:e}=await Promise.resolve().then(()=>Yc);return{default:e}},void 0).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:bl}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,s){this.logger(e,t,s)}connectionState(){switch(this.conn&&this.conn.readyState){case it.connecting:return ze.Connecting;case it.open:return ze.Open;case it.closing:return ze.Closing;default:return ze.Closed}}isConnected(){return this.connectionState()===ze.Open}channel(e,t={config:{}}){const s=new Qr(`realtime:${e}`,t,this);return this.channels.push(s),s}push(e){const{topic:t,event:s,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${s} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let s=null;try{s=JSON.parse(atob(t.split(".")[1]))}catch{}if(s&&s.exp&&!(Math.floor(Date.now()/1e3)-s.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`);this.accessTokenValue=t,this.channels.forEach(n=>{t&&n.updateJoinPayload({access_token:t}),n.joinedOnce&&n._isJoined()&&n._push(he.access_token,{access_token:t})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(wl,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:s,event:n,payload:i,ref:o}=t;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${s} ${n} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(s)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(he.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const s=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return`${e}${s}${n}`}_workerObjectUrl(e){let t;if(e)t=e;else{const s=new Blob([Rl],{type:"application/javascript"});t=URL.createObjectURL(s)}return t}}class jl{constructor(e,t,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=it.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=s.close}}class Xr extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function H(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class Il extends Xr{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class jr extends Xr{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var $l=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(r,e||[])).next())})};const Zn=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>gt(async()=>{const{default:s}=await Promise.resolve().then(()=>bt);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},Ll=()=>$l(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield gt(()=>Promise.resolve().then(()=>bt),void 0)).Response:Response}),Ir=r=>{if(Array.isArray(r))return r.map(t=>Ir(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,s])=>{const n=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=Ir(s)}),e};var Ye=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(r,e||[])).next())})};const vr=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Ml=(r,e,t)=>Ye(void 0,void 0,void 0,function*(){const s=yield Ll();r instanceof s&&!(t!=null&&t.noResolveJson)?r.json().then(n=>{e(new Il(vr(n),r.status||500))}).catch(n=>{e(new jr(vr(n),n))}):e(new jr(vr(r),r))}),Dl=(r,e,t,s)=>{const n={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s&&(n.body=JSON.stringify(s)),Object.assign(Object.assign({},n),t))};function Mt(r,e,t,s,n,i){return Ye(this,void 0,void 0,function*(){return new Promise((o,a)=>{r(t,Dl(e,s,n,i)).then(l=>{if(!l.ok)throw l;return s!=null&&s.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Ml(l,a,s))})})}function Qt(r,e,t,s){return Ye(this,void 0,void 0,function*(){return Mt(r,"GET",e,t,s)})}function Re(r,e,t,s,n){return Ye(this,void 0,void 0,function*(){return Mt(r,"POST",e,s,n,t)})}function Nl(r,e,t,s,n){return Ye(this,void 0,void 0,function*(){return Mt(r,"PUT",e,s,n,t)})}function Ul(r,e,t,s){return Ye(this,void 0,void 0,function*(){return Mt(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),s)})}function ei(r,e,t,s,n){return Ye(this,void 0,void 0,function*(){return Mt(r,"DELETE",e,s,n,t)})}var ee=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(r,e||[])).next())})};const Fl={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xs={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Bl{constructor(e,t={},s,n){this.url=e,this.headers=t,this.bucketId=s,this.fetch=Zn(n)}uploadOrUpdate(e,t,s,n){return ee(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},xs),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const c=this._removeEmptyFolders(t),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(H(i))return{data:null,error:i};throw i}})}upload(e,t,s){return ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,s)})}uploadToSignedUrl(e,t,s,n){return ee(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let l;const c=Object.assign({upsert:xs.upsert},n),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl)):(l=s,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),h=yield d.json();return d.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(H(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return ee(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const n=Object.assign({},this.headers);t!=null&&t.upsert&&(n["x-upsert"]="true");const i=yield Re(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Xr("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(s){if(H(s))return{data:null,error:s};throw s}})}update(e,t,s){return ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,s)})}move(e,t,s){return ee(this,void 0,void 0,function*(){try{return{data:yield Re(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(H(n))return{data:null,error:n};throw n}})}copy(e,t,s){return ee(this,void 0,void 0,function*(){try{return{data:{path:(yield Re(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(H(n))return{data:null,error:n};throw n}})}createSignedUrl(e,t,s){return ee(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield Re(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:t},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(H(n))return{data:null,error:n};throw n}})}createSignedUrls(e,t,s){return ee(this,void 0,void 0,function*(){try{const n=yield Re(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(H(n))return{data:null,error:n};throw n}})}download(e,t){return ee(this,void 0,void 0,function*(){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Qt(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(H(a))return{data:null,error:a};throw a}})}info(e){return ee(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const s=yield Qt(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Ir(s),error:null}}catch(s){if(H(s))return{data:null,error:s};throw s}})}exists(e){return ee(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield Ul(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(H(s)&&s instanceof jr){const n=s.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,t){const s=this._getFinalPath(e),n=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&n.push(i);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&n.push(l);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${c}`)}}}remove(e){return ee(this,void 0,void 0,function*(){try{return{data:yield ei(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(H(t))return{data:null,error:t};throw t}})}list(e,t,s){return ee(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Fl),t),{prefix:e||""});return{data:yield Re(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},s),error:null}}catch(n){if(H(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const ql="2.7.1",zl={"X-Client-Info":`storage-js/${ql}`};var et=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(r,e||[])).next())})};class Vl{constructor(e,t={},s){this.url=e,this.headers=Object.assign(Object.assign({},zl),t),this.fetch=Zn(s)}listBuckets(){return et(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(H(e))return{data:null,error:e};throw e}})}getBucket(e){return et(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(H(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return et(this,void 0,void 0,function*(){try{return{data:yield Re(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(H(s))return{data:null,error:s};throw s}})}updateBucket(e,t){return et(this,void 0,void 0,function*(){try{return{data:yield Nl(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(H(s))return{data:null,error:s};throw s}})}emptyBucket(e){return et(this,void 0,void 0,function*(){try{return{data:yield Re(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(H(t))return{data:null,error:t};throw t}})}deleteBucket(e){return et(this,void 0,void 0,function*(){try{return{data:yield ei(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(H(t))return{data:null,error:t};throw t}})}}class Wl extends Vl{constructor(e,t={},s){super(e,t,s)}from(e){return new Bl(this.url,this.headers,e,this.fetch)}}const Hl="2.49.1";let xt="";typeof Deno<"u"?xt="deno":typeof document<"u"?xt="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xt="react-native":xt="node";const Kl={"X-Client-Info":`supabase-js-${xt}/${Hl}`},Gl={headers:Kl},Jl={schema:"public"},Ql={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Xl={};var Yl=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(r,e||[])).next())})};const Zl=r=>{let e;return r?e=r:typeof fetch>"u"?e=Nn:e=fetch,(...t)=>e(...t)},ec=()=>typeof Headers>"u"?Un:Headers,tc=(r,e,t)=>{const s=Zl(t),n=ec();return(i,o)=>Yl(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:r;let c=new n(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",r),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),s(i,Object.assign(Object.assign({},o),{headers:c}))})};var rc=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(r,e||[])).next())})};function sc(r){return r.replace(/\/$/,"")}function nc(r,e){const{db:t,auth:s,realtime:n,global:i}=r,{db:o,auth:a,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},o),t),auth:Object.assign(Object.assign({},a),s),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},c),i),accessToken:()=>rc(this,void 0,void 0,function*(){return""})};return r.accessToken?u.accessToken=r.accessToken:delete u.accessToken,u}const ti="2.68.0",st=30*1e3,$r=3,yr=$r*st,ic="http://localhost:9999",oc="supabase.auth.token",ac={"X-Client-Info":`gotrue-js/${ti}`},Lr="X-Supabase-Api-Version",ri={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function lc(r){return Math.round(Date.now()/1e3)+r}function cc(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const pe=()=>typeof window<"u"&&typeof document<"u",Be={tested:!1,writable:!1},St=()=>{if(!pe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Be.tested)return Be.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Be.tested=!0,Be.writable=!0}catch{Be.tested=!0,Be.writable=!1}return Be.writable};function uc(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return t.searchParams.forEach((s,n)=>{e[n]=s}),e}const si=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>gt(async()=>{const{default:s}=await Promise.resolve().then(()=>bt);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},dc=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",ni=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},qt=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},zt=async(r,e)=>{await r.removeItem(e)};function hc(r){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let t="",s,n,i,o,a,l,c,u=0;for(r=r.replace("-","+").replace("_","/");u<r.length;)o=e.indexOf(r.charAt(u++)),a=e.indexOf(r.charAt(u++)),l=e.indexOf(r.charAt(u++)),c=e.indexOf(r.charAt(u++)),s=o<<2|a>>4,n=(a&15)<<4|l>>2,i=(l&3)<<6|c,t=t+String.fromCharCode(s),l!=64&&n!=0&&(t=t+String.fromCharCode(n)),c!=64&&i!=0&&(t=t+String.fromCharCode(i));return t}class lr{constructor(){this.promise=new lr.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}lr.promiseConstructor=Promise;function Ps(r){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=r.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const s=t[1];return JSON.parse(hc(s))}async function fc(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function pc(r,e){return new Promise((s,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await r(i);if(!e(i,null,o)){s(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function gc(r){return("0"+r.toString(16)).substr(-2)}function vc(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=t.length;let n="";for(let i=0;i<56;i++)n+=t.charAt(Math.floor(Math.random()*s));return n}return crypto.getRandomValues(e),Array.from(e,gc).join("")}async function yc(r){const t=new TextEncoder().encode(r),s=await crypto.subtle.digest("SHA-256",t),n=new Uint8Array(s);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}function mc(r){return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function bc(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await yc(r);return mc(t)}async function tt(r,e,t=!1){const s=vc();let n=s;t&&(n+="/PASSWORD_RECOVERY"),await ni(r,`${e}-code-verifier`,n);const i=await bc(s);return[i,s===i?"plain":"s256"]}const wc=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _c(r){const e=r.headers.get(Lr);if(!e||!e.match(wc))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Yr extends Error{constructor(e,t,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=s}}function A(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class kc extends Yr{constructor(e,t,s){super(e,t,s),this.name="AuthApiError",this.status=t,this.code=s}}function Ec(r){return A(r)&&r.name==="AuthApiError"}class ii extends Yr{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Ze extends Yr{constructor(e,t,s,n){super(e,s,n),this.name=t,this.status=s}}class Ce extends Ze{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function xc(r){return A(r)&&r.name==="AuthSessionMissingError"}class mr extends Ze{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vt extends Ze{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Wt extends Ze{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Pc(r){return A(r)&&r.name==="AuthImplicitGrantRedirectError"}class Ss extends Ze{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Mr extends Ze{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function br(r){return A(r)&&r.name==="AuthRetryableFetchError"}class Ts extends Ze{constructor(e,t,s){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=s}}var Sc=function(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(r);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(r,s[n])&&(t[s[n]]=r[s[n]]);return t};const qe=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Tc=[502,503,504];async function Cs(r){var e;if(!dc(r))throw new Mr(qe(r),0);if(Tc.includes(r.status))throw new Mr(qe(r),r.status);let t;try{t=await r.json()}catch(i){throw new ii(qe(i),i)}let s;const n=_c(r);if(n&&n.getTime()>=ri["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?s=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(s=t.error_code),s){if(s==="weak_password")throw new Ts(qe(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Ce}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Ts(qe(t),r.status,t.weak_password.reasons);throw new kc(qe(t),r.status||500,s)}const Cc=(r,e,t,s)=>{const n={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(s),Object.assign(Object.assign({},n),t))};async function L(r,e,t,s){var n;const i=Object.assign({},s==null?void 0:s.headers);i[Lr]||(i[Lr]=ri["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(n=s==null?void 0:s.query)!==null&&n!==void 0?n:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Oc(r,e,t+a,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(l):{data:Object.assign({},l),error:null}}async function Oc(r,e,t,s,n,i){const o=Cc(e,s,n,i);let a;try{a=await r(t,Object.assign({},o))}catch(l){throw console.error(l),new Mr(qe(l),0)}if(a.ok||await Cs(a),s!=null&&s.noResolveJson)return a;try{return await a.json()}catch(l){await Cs(l)}}function Oe(r){var e;let t=null;Ic(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=lc(r.expires_in)));const s=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:s},error:null}}function Os(r){const e=Oe(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,s)=>t&&typeof s=="string",!0)&&(e.data.weak_password=r.weak_password),e}function Ae(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function Rc(r){return{data:r,error:null}}function Ac(r){const{action_link:e,email_otp:t,hashed_token:s,redirect_to:n,verification_type:i}=r,o=Sc(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:s,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function jc(r){return r}function Ic(r){return r.access_token&&r.refresh_token&&r.expires_in}var $c=function(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(r);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(r,s[n])&&(t[s[n]]=r[s[n]]);return t};class Lc{constructor({url:e="",headers:t={},fetch:s}){this.url=e,this.headers=t,this.fetch=si(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await L(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(A(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,t={}){try{return await L(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Ae})}catch(s){if(A(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:t}=e,s=$c(e,["options"]),n=Object.assign(Object.assign({},s),t);return"newEmail"in s&&(n.new_email=s==null?void 0:s.newEmail,delete n.newEmail),await L(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Ac,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(A(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await L(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ae})}catch(t){if(A(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,s,n,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await L(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:jc});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),f=JSON.parse(y.split(";")[1].split("=")[1]);c[`${f}Page`]=g}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(A(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await L(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ae})}catch(t){if(A(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await L(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Ae})}catch(s){if(A(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,t=!1){try{return await L(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Ae})}catch(s){if(A(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){try{const{data:t,error:s}=await L(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:t,error:s}}catch(t){if(A(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await L(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(A(t))return{data:null,error:t};throw t}}}const Mc={getItem:r=>St()?globalThis.localStorage.getItem(r):null,setItem:(r,e)=>{St()&&globalThis.localStorage.setItem(r,e)},removeItem:r=>{St()&&globalThis.localStorage.removeItem(r)}};function Rs(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function Dc(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const rt={debug:!!(globalThis&&St()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class oi extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Nc extends oi{}async function Uc(r,e,t){rt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),rt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async n=>{if(n){rt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,n.name);try{return await t()}finally{rt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,n.name)}}else{if(e===0)throw rt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Nc(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(rt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}Dc();const Fc={url:ic,storageKey:oc,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ac,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function As(r,e,t){return await t()}class At{constructor(e){var t,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=At.nextInstanceID,At.nextInstanceID+=1,this.instanceID>0&&pe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Fc),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Lc({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=si(n.fetch),this.lock=n.lock||As,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:pe()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=Uc:this.lock=As,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:St()?this.storage=Mc:(this.memoryStorage={},this.storage=Rs(this.memoryStorage)):(this.memoryStorage={},this.storage=Rs(this.memoryStorage)),pe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ti}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=uc(window.location.href);let s="none";if(this._isImplicitGrantCallback(t)?s="implicit":await this._isPKCECallback(t)&&(s="pkce"),pe()&&this.detectSessionInUrl&&s!=="none"){const{data:n,error:i}=await this._getSessionFromURL(t,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Pc(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return A(t)?{error:t}:{error:new ii("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,s,n;try{const i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:Oe}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(A(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var t,s,n;try{let i;if("email"in e){const{email:u,password:d,options:h}=e;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await tt(this.storage,this.storageKey)),i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(t=h==null?void 0:h.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:v,code_challenge_method:y},xform:Oe})}else if("phone"in e){const{phone:u,password:d,options:h}=e;i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},channel:(n=h==null?void 0:h.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Oe})}else throw new Vt("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(A(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:i,password:o,options:a}=e;t=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Os})}else if("phone"in e){const{phone:i,password:o,options:a}=e;t=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Os})}else throw new Vt("You must provide either an email or phone number and a password");const{data:s,error:n}=t;return n?{data:{user:null,session:null},error:n}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new mr}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:n})}catch(t){if(A(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,s,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await qt(this.storage,`${this.storageKey}-code-verifier`),[s,n]=(t??"").split("/");try{const{data:i,error:o}=await L(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Oe});if(await zt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new mr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(A(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:t,provider:s,token:n,access_token:i,nonce:o}=e,a=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Oe}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new mr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(t){if(A(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,s,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await tt(this.storage,this.storageKey));const{error:d}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Vt("You must provide either an email or phone number.")}catch(a){if(A(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var t,s;try{let n,i;"options"in e&&(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await L(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:Oe});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var t,s,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await tt(this.storage,this.storageKey)),await L(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&s!==void 0?s:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Rc})}catch(i){if(A(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;if(s)throw s;if(!t)throw new Ce;const{error:n}=await L(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(A(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:s,type:n,options:i}=e,{error:o}=await L(this.fetch,"POST",t,{headers:this.headers,body:{email:s,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:s,type:n,options:i}=e,{data:o,error:a}=await L(this.fetch,"POST",t,{headers:this.headers,body:{phone:s,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Vt("You must provide either an email or phone number and a type")}catch(t){if(A(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await s,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=t();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await qt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<yr:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ae}):await this._useSession(async t=>{var s,n,i;const{data:o,error:a}=t;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ce}:await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Ae})})}catch(t){if(A(t))return xc(t)&&(await this._removeSession(),await zt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async s=>{const{data:n,error:i}=s;if(i)throw i;if(!n.session)throw new Ce;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await tt(this.storage,this.storageKey));const{data:c,error:u}=await L(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ae});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(A(s))return{data:{user:null},error:s};throw s}}_decodeJWT(e){return Ps(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ce;const t=Date.now()/1e3;let s=t,n=!0,i=null;const o=Ps(e.access_token);if(o.exp&&(s=o.exp,n=s<=t),n){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:s-t,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(A(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var s;if(!e){const{data:o,error:a}=t;if(a)throw a;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new Ce;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(A(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!pe())throw new Wt("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Wt(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Ss("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wt("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ss("No code detected.");const{data:w,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new Wt("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;l&&(h=parseInt(l));const v=h-u;v*1e3<=st&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${d}s`);const y=h-d;u-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,u):u-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,u);const{data:g,error:f}=await this._getUser(i);if(f)throw f;const b={provider_token:s,provider_refresh_token:n,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:e.type},error:null}}catch(s){if(A(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await qt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var s;const{data:n,error:i}=t;if(i)return{error:i};const o=(s=n.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Ec(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await zt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=cc(),s={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async t=>{var s,n;try{const{data:{session:i},error:o}=t;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,t={}){let s=null,n=null;this.flowType==="pkce"&&([s,n]=await tt(this.storage,this.storageKey,!0));try{return await L(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(A(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:t,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(A(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:s,error:n}=await this._useSession(async i=>{var o,a,l,c,u;const{data:d,error:h}=i;if(h)throw h;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await L(this.fetch,"GET",v,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(n)throw n;return pe()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:e.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(A(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var s,n;const{data:i,error:o}=t;if(o)throw o;return await L(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:void 0})})}catch(t){if(A(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await pc(async n=>(n>0&&await fc(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await L(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Oe})),(n,i)=>{const o=200*Math.pow(2,n);return i&&br(i)&&Date.now()+o-s<st})}catch(s){if(this._debug(t,"error",s),A(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",s),pe()&&!t.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const s=await qt(this.storage,this.storageKey);if(this._debug(t,"session from storage",s),!this._isValidSession(s)){this._debug(t,"session is not valid"),s!==null&&await this._removeSession();return}const n=((e=s.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<yr;if(this._debug(t,`session has${n?"":" not"} expired with margin of ${yr}s`),n){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),br(i)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(t,"error",s),console.error(s);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,s;if(!e)throw new Ce;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new lr;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Ce;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),A(i)){const o={session:null,error:i};return br(i)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t,s=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",t,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:t});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,t)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ni(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await zt(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&pe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),st);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:s}}=t;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((s.expires_at*1e3-e)/st);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${st}ms, refresh threshold is ${$r} ticks`),n<=$r&&await this._callRefreshToken(s.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof oi)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!pe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,s){const n=[`provider=${encodeURIComponent(t)}`];if(s!=null&&s.redirectTo&&n.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&n.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await tt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);n.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&n.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var s;const{data:n,error:i}=t;return i?{data:null,error:i}:await L(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(A(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var s,n;const{data:i,error:o}=t;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await L(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(t){if(A(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:n,error:i}=t;if(i)return{data:null,error:i};const{data:o,error:a}=await L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(t){if(A(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:n,error:i}=t;return i?{data:null,error:i}:await L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(A(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const s=(e==null?void 0:e.factors)||[],n=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,s;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((s=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}At.nextInstanceID=0;const Bc=At;class qc extends Bc{constructor(e){super(e)}}var zc=function(r,e,t,s){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(r,e||[])).next())})};class Vc{constructor(e,t,s){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const a=sc(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:Jl,realtime:Xl,auth:Object.assign(Object.assign({},Ql),{storageKey:l}),global:Gl},u=nc(s??{},c);this.storageKey=(n=u.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=tc(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new vl(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new Ha(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Wl(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},s={}){return this.rest.rpc(e,t,s)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return zc(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(t=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:n,storageKey:i,flowType:o,lock:a,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qc({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:n,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Al(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,s)=>{this._handleTokenChanged(t,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,t,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const od=(r,e,t)=>new Vc(r,e,t);var Dr=new Map,Ht=new WeakMap,js=0,Wc=void 0;function Hc(r){return r?(Ht.has(r)||(js+=1,Ht.set(r,js.toString())),Ht.get(r)):"0"}function Kc(r){return Object.keys(r).sort().filter(e=>r[e]!==void 0).map(e=>`${e}_${e==="root"?Hc(r.root):r[e]}`).toString()}function Gc(r){const e=Kc(r);let t=Dr.get(e);if(!t){const s=new Map;let n;const i=new IntersectionObserver(o=>{o.forEach(a=>{var l;const c=a.isIntersecting&&n.some(u=>a.intersectionRatio>=u);r.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=c),(l=s.get(a.target))==null||l.forEach(u=>{u(c,a)})})},r);n=i.thresholds||(Array.isArray(r.threshold)?r.threshold:[r.threshold||0]),t={id:e,observer:i,elements:s},Dr.set(e,t)}return t}function Jc(r,e,t={},s=Wc){if(typeof window.IntersectionObserver>"u"&&s!==void 0){const l=r.getBoundingClientRect();return e(s,{isIntersecting:s,target:r,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:n,observer:i,elements:o}=Gc(t),a=o.get(r)||[];return o.has(r)||o.set(r,a),a.push(e),i.observe(r),function(){a.splice(a.indexOf(e),1),a.length===0&&(o.delete(r),i.unobserve(r)),o.size===0&&(i.disconnect(),Dr.delete(n))}}function ad({threshold:r,delay:e,trackVisibility:t,rootMargin:s,root:n,triggerOnce:i,skip:o,initialInView:a,fallbackInView:l,onChange:c}={}){var u;const[d,h]=p.useState(null),v=p.useRef(c),[y,g]=p.useState({inView:!!a,entry:void 0});v.current=c,p.useEffect(()=>{if(o||!d)return;let _;return _=Jc(d,(E,x)=>{g({inView:E,entry:x}),v.current&&v.current(E,x),x.isIntersecting&&i&&_&&(_(),_=void 0)},{root:n,rootMargin:s,threshold:r,trackVisibility:t,delay:e},l),()=>{_&&_()}},[Array.isArray(r)?r.toString():r,d,n,s,i,o,t,l,e]);const f=(u=y.entry)==null?void 0:u.target,b=p.useRef(void 0);!d&&f&&!i&&!o&&b.current!==f&&(b.current=f,g({inView:!!a,entry:void 0}));const w=[h,y.inView,y.entry];return w.ref=w[0],w.inView=w[1],w.entry=w[2],w}var Qc=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")};const Xc=li(Qc),Yc=Object.freeze(Object.defineProperty({__proto__:null,default:Xc},Symbol.toStringTag,{value:"Module"}));export{mt as $,pu as A,yu as B,wu as C,cu as D,uu as E,ku as F,Eu as G,Su as H,Tu as I,lu as J,nu as K,Cu as L,Ru as M,Kt as N,li as O,ju as P,qu as Q,Ju as R,Lu as S,au as T,Uu as U,iu as V,ru as W,Fu as X,Vu as Y,Ku as Z,Gu as _,ad as a,On as a0,Wu as a1,Sa as a2,Sn as a3,Pu as b,od as c,Du as d,Kr as e,zu as f,Fa as g,Au as h,$u as i,Nu as j,hu as k,gu as l,Mu as m,fu as n,Iu as o,bu as p,Ou as q,_u as r,mu as s,vu as t,Hu as u,xu as v,Bu as w,Qi as x,ou as y,du as z};
